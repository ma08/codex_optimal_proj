["\n\ndef main():\n    n = int(input())\n    a = list(map(int, input().split()))\n    dp = [0] * n\n    dp[0] = 1\n    for i in range(1, n):\n        max_d = 0\n        for j in range(0, i):\n            if a[i] > a[j] and dp[j] > max_d:\n                max_d = dp[j]\n        dp[i] = max_d + 1\n    print(max(dp))\n    print(' '.join(map(str, dp)))\n\nif __name__ == '__main__':\n    main()", "\n\nimport sys\n\ndef main():\n    n = int(sys.stdin.readline().strip())\n    a = [int(x) for x in sys.stdin.readline().strip().split()]\n    b = [0]*n\n    b[0] = a[0]\n    c = 1\n    for i in range(1, n):\n        if a[i] > b[c-1]:\n            b[c] = a[i]\n            c += 1\n        else:\n            for j in range(c-1, -1, -1):\n                if a[i] > b[j]:\n                    b[j+1] = a[i]\n                    break\n    print(c)\n    print(\" \".join(str(x) for x in b[:c]))\n\nmain()", "\n\nn = int(input())\na = list(map(int, input().split()))\n\ng = []\ng.append(a[0])\nfor i in range(1, n):\n    if a[i] > g[-1]:\n        g.append(a[i])\n\nprint(len(g))\nprint(*g)", "\n\nN = int(input())\nA = list(map(int, input().split()))\n\ngis = []\ngis.append(A[0])\nfor i in range(1, N):\n    if A[i] > gis[-1]:\n        gis.append(A[i])\n\nprint(len(gis))\nprint(*gis)", "\n\nn = int(input())\na = [int(x) for x in input().split()]\n\nb = [0] * n\nb[0] = a[0]\n\nfor i in range(1, n):\n    if a[i] > b[-1]:\n        b.append(a[i])\n    else:\n        for j in range(len(b)):\n            if b[j] >= a[i]:\n                b[j] = a[i]\n                break\n\nprint(len(b))\nprint(*b)", "\n\ndef get_gis(n, l):\n    lis = [1] * n\n    for i in range(1, n):\n        for j in range(i):\n            if l[i] > l[j] and lis[i] < lis[j] + 1:\n                lis[i] = lis[j] + 1\n    return max(lis)\n\ndef main():\n    n = int(input())\n    l = list(map(int, input().split()))\n    print(get_gis(n, l))\n\nif __name__ == '__main__':\n    main()", "\n\nN = int(input())\nA = list(map(int, input().split()))\n\n# DP solution\n# O(N^2) time, O(N) space\n\n# dp = [1] * N\n# dp[0] = 1\n# for i in range(1, N):\n#     for j in range(i):\n#         if A[j] < A[i] and dp[j] + 1 > dp[i]:\n#             dp[i] = dp[j] + 1\n#\n# max_len = max(dp)\n# print(max_len)\n#\n# print(A[dp.index(max_len)], end=' ')\n# for i in range(dp.index(max_len) + 1, N):\n#     if dp[i] == max_len:\n#         print(A[i], end=' ')\n#         max_len -= 1\n#     if max_len == 1:\n#         break\n# print()\n\n# O(N log N) time, O(N) space\n\n# dp = [0] * N\n# prev = [0] * N\n# dp[0] = 0\n# prev[0] = -1\n#\n# max_len = 1\n# max_len_index = 0\n# for i in range(1, N):\n#     if A[i] > A[dp[max_len - 1]]:\n#         dp[max_len] = i\n#         prev[i] = dp[max_len - 1]\n#         max_len += 1\n#     else:\n#         low = 0\n#         high = max_len - 1\n#         while low < high:\n#             mid = (low + high) // 2\n#             if A[dp[mid]] < A[i]:\n#                 low = mid + 1\n#             else:\n#                 high = mid\n#         if A[i] < A[dp[low]]:\n#             if low > 0:\n#                 prev[i] = dp[low - 1]\n#             else:\n#                 prev[i] = -1\n#             dp[low] = i\n#\n# print(max_len)\n#\n# while max_len_index != -1:\n#     print(A[max_len_index], end=' ')\n#     max_len_index = prev[max_len_index]\n# print()\n\n# O(N log N) time, O(N) space\n\ndp = [0] * N\nprev = [0] * N\ndp[0] = 0\nprev[0] = -1\n\nmax_len = 1\nmax_len_index = 0\nfor i in range(1, N):\n    if A[i] > A[dp[max_len - 1]]:\n        dp[max_len] = i\n        prev[i] = dp[max_len - 1]\n        max_len += 1\n    else:\n        low = 0\n        high = max_len - 1\n        while low < high:\n            mid = (low + high) // 2\n            if A[dp[mid]] < A[i]:\n                low = mid + 1\n            else:\n                high = mid\n        if A[i] < A[dp[low]]:\n            if low > 0:\n                prev[i] = dp[low - 1]\n            else:\n                prev[i] = -1\n            dp[low] = i\n\nprint(max_len)\n\nseq = []\nwhile max_len_index != -1:\n    seq.append(A[max_len_index])\n    max_len_index = prev[max_len_index]\nfor i in range(len(seq) - 1, -1, -1):\n    print(seq[i], end=' ')\nprint()"]