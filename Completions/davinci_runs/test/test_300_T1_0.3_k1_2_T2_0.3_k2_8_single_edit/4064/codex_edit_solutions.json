["\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndef solve(n, h, l, r, a):\n\tdp = [0] * h\n\tdp[0] = 1\n\tfor i in range(1, h):\n\t\tdp[i] = dp[i-1]\n\t\tif i >= a[0]:\n\t\t\tdp[i] = max(dp[i], dp[i-a[0]])\n\tfor i in range(1, n):\n\t\tdp2 = [0] * h\n\t\tdp2[0] = 1\n\t\tfor j in range(1, h):\n\t\t\tdp2[j] = dp2[j-1]\n\t\t\tif j >= a[i]:\n\t\t\t\tdp2[j] = max(dp2[j], dp2[j-a[i]])\n\t\t\tif j >= a[i] - 1:\n\t\t\t\tdp2[j] = max(dp2[j], dp[j-a[i]+1])\n\t\tdp = dp2\n\treturn sum(dp[l:r+1])\n\nprint(solve(n, h, l, r, a))\n", "\n\nimport sys\ninput = sys.stdin.readline\n\ndef main():\n    n, h, l, r = map(int, input().split())\n    a = list(map(int, input().split()))\n\n    dp = [0] * h\n    dp[0] = 1\n\n    for i in range(n):\n        dp2 = dp[:]\n        for j in range(h):\n            if dp[j]:\n                dp2[(j + a[i]) % h] = 1\n                dp2[(j + a[i] - 1) % h] = 1\n        dp = dp2\n\n    print(sum(dp[l:r + 1]))\n\nif __name__ == '__main__':\n    main()\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndef solve(n, h, l, r, a):\n    dp = [0] * h\n    dp[0] = 1\n    for i in range(1, h):\n        dp[i] = dp[i-1]\n        if i >= a[0]:\n            dp[i] = max(dp[i], dp[i-a[0]])\n    for i in range(1, n):\n        dp2 = [0] * h\n        dp2[0] = 1\n        for j in range(1, h):\n            dp2[j] = dp2[j-1]\n            if j >= a[i]:\n                dp2[j] = max(dp2[j], dp2[j-a[i]])\n            if j >= a[i] - 1:\n                dp2[j] = max(dp2[j], dp[j-a[i]+1])\n        dp = dp2\n    return sum(dp[l:r+1])\n\nprint(solve(n, h, l, r, a))\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndef solve(n, h, l, r, a):\n    dp = [0] * (h+1)\n    dp[0] = 1\n    for i in range(1, h):\n        dp[i] = dp[i-1]\n        if i >= a[0]:\n            dp[i] = max(dp[i], dp[i-a[0]])\n    for i in range(1, n):\n        dp2 = [0] * (h+1)\n        dp2[0] = 1\n        for j in range(1, h):\n            dp2[j] = dp2[j-1]\n            if j >= a[i]:\n                dp2[j] = max(dp2[j], dp2[j-a[i]])\n            if j >= a[i] - 1:\n                dp2[j] = max(dp2[j], dp[j-a[i]+1])\n        dp = dp2\n    return sum(dp[l:r+1])\n\nprint(solve(n, h, l, r, a))\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndp = [0] * h\ndp[0] = 1\nfor i in range(1, h):\n    dp[i] = dp[i-1]\n    if i >= a[0]:\n        dp[i] = max(dp[i], dp[i-a[0]])\nfor i in range(1, n):\n    dp2 = [0] * h\n    dp2[0] = 1\n    for j in range(1, h):\n        dp2[j] = dp2[j-1]\n        if j >= a[i]:\n            dp2[j] = max(dp2[j], dp2[j-a[i]])\n        if j >= a[i] - 1:\n            dp2[j] = max(dp2[j], dp[j-a[i]+1])\n    dp = dp2\n\nprint(solve(n, h, l, r, a))\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndp = [0] * h\ndp[0] = 1\n\nfor i in range(n):\n    dp2 = dp[:]\n    for j in range(h):\n        if dp[j]:\n            dp2[(j + a[i]) % h] = 1\n            dp2[(j + a[i] - 1) % h] = 1\n    dp = dp2\n\nprint(sum(dp[l:r + 1]))\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndp = [0] * h\ndp[0] = 1\nfor i in range(1, h):\n    dp[i] = dp[i-1]\n    if i >= a[0]:\n        dp[i] = max(dp[i], dp[i-a[0]])\nfor i in range(1, n):\n    dp2 = [0] * h\n    dp2[0] = 1\n    for j in range(1, h):\n        dp2[j] = dp2[j-1]\n        if j >= a[i]:\n            dp2[j] = max(dp2[j], dp2[j-a[i]])\n        if j >= a[i] - 1:\n            dp2[j] = max(dp2[j], dp[j-a[i]+1])\n    dp = dp2\n\nprint(sum(dp[l:r+1]))\n", "\nn, h, l, r = map(int, input().split())\n\na = list(map(int, input().split()))\n\ndef solve(n, h, l, r, a):\n    dp = [0] * h\n    dp[0] = 1\n    for i in range(1, h):\n        dp[i] = dp[i-1]\n        if i >= a[0]:\n            dp[i] = max(dp[i], dp[i-a[0]])\n    for i in range(1, n):\n        dp2 = [0] * h\n        dp2[0] = 1\n        for j in range(1, h):\n            dp2[j] = dp2[j-1]\n            if j >= a[i]:\n                dp2[j] = max(dp2[j], dp2[j-a[i]])\n            if j >= a[i] - 1:\n                dp2[j] = max(dp2[j], dp[j-a[i]+1])\n        dp = dp2\n    return sum(dp[l:r+1])\n\nprint(solve(n, h, l, r, a))\n", "\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndp = [[0] * h for _ in range(n + 1)]\ndp[0][0] = 1\n\nfor i in range(1, n + 1):\n    for j in range(h):\n        if dp[i - 1][j]:\n            dp[i][(j + a[i - 1]) % h] = 1\n            dp[i][(j + a[i - 1] - 1) % h] = 1\n\nprint(sum(dp[l:r + 1]))\n"]