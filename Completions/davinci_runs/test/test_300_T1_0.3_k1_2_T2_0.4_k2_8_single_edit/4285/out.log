2022-04-18 21:57:36.790737 """
You are given a string $s$ consisting of lowercase Latin letters "a", "b" and "c" and question marks "?".

Let the number of question marks in the string $s$ be $k$. Let's replace each question mark with one of the letters "a", "b" and "c". Here we can obtain all $3^{k}$ possible strings consisting only of letters "a", "b" and "c". For example, if $s = $"ac?b?c" then we can obtain the following strings: $[$"acabac", "acabbc", "acabcc", "acbbac", "acbbbc", "acbbcc", "accbac", "accbbc", "accbcc"$]$.

Your task is to count the total number of subsequences "abc" in all resulting strings. Since the answer can be very large, print it modulo $10^{9} + 7$.

A subsequence of the string $t$ is such a sequence that can be derived from the string $t$ after removing some (possibly, zero) number of letters without changing the order of remaining letters. For example, the string "baacbc" contains two subsequences "abc" — a subsequence consisting of letters at positions $(2, 5, 6)$ and a subsequence consisting of letters at positions $(3, 5, 6)$.


-----Input-----

The first line of the input contains one integer $n$ $(3 \le n \le 200\,000)$ — the length of $s$.

The second line of the input contains the string $s$ of length $n$ consisting of lowercase Latin letters "a", "b" and "c" and question marks"?".


-----Output-----

Print the total number of subsequences "abc" in all strings you can obtain if you replace all question marks with letters "a", "b" and "c", modulo $10^{9} + 7$.


-----Examples-----
Input
6
ac?b?c

Output
24

Input
7
???????

Output
2835

Input
9
cccbbbaaa

Output
0

Input
5
a???c

Output
46



-----Note-----

In the first example, we can obtain $9$ strings:  "acabac" — there are $2$ subsequences "abc",  "acabbc" — there are $4$ subsequences "abc",  "acabcc" — there are $4$ subsequences "abc",  "acbbac" — there are $2$ subsequences "abc",  "acbbbc" — there are $3$ subsequences "abc",  "acbbcc" — there are $4$ subsequences "abc",  "accbac" — there is $1$ subsequence "abc",  "accbbc" — there are $2$ subsequences "abc",  "accbcc" — there are $2$ subsequences "abc". 

So, there are $2 + 4 + 4 + 2 + 3 + 4 + 1 + 2 + 2 = 24$ subsequences "abc" in total.
"""
2022-04-18 21:57:36.790769 --------------------------
2022-04-18 21:59:07.033210 {
  "choices": [
    {
      "finish_reason": "length",
      "index": 0,
      "logprobs": null,
      "text": "\n\n\ndef main():\n    n = int(input())\n    s = input()\n    a = s.count('a')\n    b = s.count('b')\n    c = s.count('c')\n    q = s.count('?')\n\n    if a == 0 or b == 0 or c == 0:\n        print(0)\n        return\n\n    if q == 0:\n        print(0)\n        return\n\n    if q == 1:\n        print(1)\n        return\n\n    if q == 2:\n        print(2)\n        return\n\n    if q == 3:\n        print(6)\n        return\n\n    if q == 4:\n        print(24)\n        return\n\n    if q == 5:\n        print(120)\n        return\n\n    if q == 6:\n        print(720)\n        return\n\n    if q == 7:\n        print(5040)\n        return\n\n    if q == 8:\n        print(40320)\n        return\n\n    if q == 9:\n        print(362880)\n        return\n\n    if q == 10:\n        print(3628800)\n        return\n\n    if q == 11:\n        print(39916800)\n        return\n\n    if q == 12:\n        print(479001600)\n        return\n\n    if q == 13:\n        print(6227020800)\n        return\n\n    if q == 14:\n        print(87178291200)\n        return\n\n    if q == 15:\n        print(1307674368000)\n        return\n\n    if q == 16:\n        print(20922789888000)\n        return\n\n    if q == 17:\n        print(355687428096000)\n        return\n\n    if q == 18:\n        print(6402373705728000)\n        return\n\n    if q == 19:\n        print(121645100408832000)\n        return\n\n    if q == 20:\n        print(2432902008176640000)\n        return\n\n    if q == 21:\n        print(51090942171709440000)\n        return\n\n    if q == 22:\n        print(1124000727777607680000)\n        return\n\n    if q == 23:\n        print(25852016738884976640000)\n        return\n\n    if q == 24:\n        print(620448401733239439360000)\n        return\n\n    if q == 25:\n        print(15511210043330985984000000)\n        return\n\n    if q == 26:\n        print(403291461126605635584000000)\n        return\n\n    if q == 27:\n        print(10888869450418352160768000000)\n        return\n\n    if q == 28:\n        print(304888344611713860501504000000)\n        return\n\n    if q == 29:\n        print(8841761993739701954543616000000)\n        return\n\n    if q == 30:\n        print(265252859812191058636308480000000)\n        return\n\n    if q == 31:\n        print(8222838654177922817725562880000000)\n        return\n\n    if q == 32:\n        print(263130836933693530167218012160000000)\n        return\n\n    if q == 33:\n        print(8683317618811886495518194401280000000)\n        return\n\n    if q == 34:\n        print(295232799039604140847618609643520000000)\n        return\n\n    if q == 35:\n        print(10333147966386144929666651337523200000000)\n        return\n\n    if q == 36:\n        print(371993326789901217467999448150835200000000)\n        return\n\n    if q == 37:\n        print(13763753091226345046315979581580902400000000)\n        return\n\n    if q == 38:\n        print(523022617466601111760007224100074291200000000)\n        return\n\n    if q == 39:\n        print(20397882081197443358640281739902897356800000000)\n        return\n\n    if q == 40:\n        print(815915283247897734345611269596115894272000000000)\n        return\n\n    if q == 41:\n        print(33452526613163807108170062053440751665152000000000)\n        return\n\n    if q == 42:\n        print(1405006117752879898543142606244511569936384000000000)\n        return\n\n    if q == 43:\n        print(60415263063373835637355132068513997507264512000000000)\n        return\n\n    if q == 44:\n        print(2658271574788448768043625811014615890319638528000000000)\n        return\n\n    if q == 45:\n        print(119622220865480194561963161495657715064383733760000000000)\n        return\n\n    if q == 46:\n        print(5502622159812088949850305428800254892961651752960000000000)\n        return\n\n    if q == 47:\n        print(258623241511168180642964355153611979969197632389120000000000)\n        return\n\n    if q == 48:\n        print(12413915592536072670862289047373375038521486354677760000000000)\n        return\n\n    if q == 49:\n        print(608281864034267560872252163321295376887552831379210240000000000)\n        return\n\n    if q == 50:\n        print(30414093201713378043612608166064768844377641568960512000000000000)\n        return\n\n    if q == 51:\n        print(1551118753287382280224243016469303211063259720016986112000000000000)\n        return\n\n    if q == 52:\n        print(80658175170943878571660636856403766975289505440883277824000000000000)\n        return\n\n    if q == 53:\n        print(4274883284060025564298013753389399649690343788366813724672000000000000)\n        return\n\n    if q == 54:\n        print(230843697339241380472092742683027581083278564571807941132288000000000000)\n        return\n\n    if q == 55:\n        print(12696403353658275925965100847566516959580321051449436762275840000000000000)\n        return\n\n    if q == 56:\n        print(710998587804863451854045647463724949736497978881168458687447040000000000000)\n        return\n\n    if q == 57:\n        print(40526919504877216755680601905432322134980384796226602145184481280000000000000)\n        return\n\n    if q == 58:\n        print(2350561331282878571829474910515074683828862318181142924420699914240000000000000)\n        return\n\n    if q == 59:\n        print(138683118545689835737939019720389406345902876772687432540821294940160000000000000)\n        return\n\n    if q == 60:\n        print(8320987112741390144276341183223364380754172606361245952449277696409600000000000000)\n        return\n\n    if q == 61:\n        print(507580213877224798800856812176625227226004528988036003099405939480985600000000000000)\n        return\n\n    if q == 62:\n        print(31469973260387937525653122354950764088012280797258232192163168247821107200000000000000)\n        return\n\n    if q == 63:\n        print(1982608315404440064116146708361898137544773690227268628106279599612729753600000000000000)\n        return\n\n    if q == 64:\n        print(126886932185884164103433389335161480802865516174545192198801894375214704230400000000000000)\n        return\n\n    if q == 65:\n        print(8247650592082470666723170306785496252186258551345437492922123134388955774976000000000000000)\n        return\n\n    if q == 66:\n        print(544344939077443064003729240247842752644293064388798874532860126869671081148416000000000000000)\n        return\n\n    if q == 67:\n        print(36471110918188685288249859096605464427167635314049524593701628500267962436943872000000000000000)\n        return\n\n    if q == 68:\n        print(2480035542436830599600990418569171581047399201355367672371710738018221445712183296000000000000000)\n        return\n\n    if q == 69:\n        print(171122452428141311372468338881272839092270544893520369393648040923257279754140647424000000000000000)\n        return\n\n    if q == 70:\n        print(11978571669969891796072783721689098736458938142546425857555362864628009582789845319680000000000000000)\n        return\n\n    if q == 71:\n        print(850478588567862317521167644239926010288584608120796235886430763388588680378079017697280000000000000000)\n        return\n\n    if q == 72:\n        print(61234458376886086861524070385274672740778091784697328983823014963978384987221689274204160000000000000000)\n        return\n\n    if q == 73:\n        print(4470115461512684340891257138125051110076800700282905015819080092370422104067183317016903680000000000000000)\n        return\n\n    if q == 74:\n        print(330788544151938641225953028221253782145683251820934971170611926835411235700971565459250872320000000000000000)\n        return\n\n    if q == 75:\n        print(24809140811395398091946477116594033660926243886570122837795894512655842677572867409443815424000000000000000000)\n        return\n\n    if q == 76:\n        print(1885494701666050254987932260861146558230394535379329335672487982961844043495537923117729972224000000000000000000)\n        return\n\n    if q == 77:\n        print(145183092028285869634070784086308284983740379224208358846781574688061991349156420080065207861248000000000000000000)\n        return\n\n    if q == 78:\n        print(11324281178206297831457521158732046228731749579488251990048962825668835325234200766245086213177344000000000000000000)\n        return\n\n    if q == 79:\n        print(894618213078297528685144171539831652069808216779571907213868063227837990693501860533361810841010176000000000000000000)\n        return\n\n    if q == 80:\n        print(71569457046263802294811533723186532165584657342365752577109"
    },
    {
      "finish_reason": "length",
      "index": 1,
      "logprobs": null,
      "text": "\n\nimport sys\n\ndef main():\n    n = int(input())\n    s = input()\n    k = s.count('?')\n    s = s.replace('?', '')\n    a = s.count('a')\n    b = s.count('b')\n    c = s.count('c')\n    if a == 0 or b == 0 or c == 0:\n        print(0)\n        sys.exit()\n    if k == 0:\n        print(0)\n        sys.exit()\n    if k == 1:\n        print(a * b * c)\n        sys.exit()\n    if k == 2:\n        print(a * b * c * (a + b + c - 2))\n        sys.exit()\n    if k == 3:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) // 2)\n        sys.exit()\n    if k == 4:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) // 6)\n        sys.exit()\n    if k == 5:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) // 24)\n        sys.exit()\n    if k == 6:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) // 120)\n        sys.exit()\n    if k == 7:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) // 720)\n        sys.exit()\n    if k == 8:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) // 5040)\n        sys.exit()\n    if k == 9:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) // 40320)\n        sys.exit()\n    if k == 10:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) // 362880)\n        sys.exit()\n    if k == 11:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) // 3628800)\n        sys.exit()\n    if k == 12:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) // 39916800)\n        sys.exit()\n    if k == 13:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) // 479001600)\n        sys.exit()\n    if k == 14:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) // 6227020800)\n        sys.exit()\n    if k == 15:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) // 87178291200)\n        sys.exit()\n    if k == 16:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) // 1307674368000)\n        sys.exit()\n    if k == 17:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) // 20922789888000)\n        sys.exit()\n    if k == 18:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) // 355687428096000)\n        sys.exit()\n    if k == 19:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) // 6402373705728000)\n        sys.exit()\n    if k == 20:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) * (a + b + c - 20) // 121645100408832000)\n        sys.exit()\n    if k == 21:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) * (a + b + c - 20) * (a + b + c - 21) // 2432902008176640000)\n        sys.exit()\n    if k == 22:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a +"
    }
  ],
  "created": 1650319056,
  "id": "cmpl-4yTfErJmVqFV0R6EGbcg7i1sEKt5M",
  "model": "code-davinci:002",
  "object": "text_completion"
}
2022-04-18 21:59:07.033703 0 {
  "finish_reason": "length",
  "index": 0,
  "logprobs": null,
  "text": "\n\n\ndef main():\n    n = int(input())\n    s = input()\n    a = s.count('a')\n    b = s.count('b')\n    c = s.count('c')\n    q = s.count('?')\n\n    if a == 0 or b == 0 or c == 0:\n        print(0)\n        return\n\n    if q == 0:\n        print(0)\n        return\n\n    if q == 1:\n        print(1)\n        return\n\n    if q == 2:\n        print(2)\n        return\n\n    if q == 3:\n        print(6)\n        return\n\n    if q == 4:\n        print(24)\n        return\n\n    if q == 5:\n        print(120)\n        return\n\n    if q == 6:\n        print(720)\n        return\n\n    if q == 7:\n        print(5040)\n        return\n\n    if q == 8:\n        print(40320)\n        return\n\n    if q == 9:\n        print(362880)\n        return\n\n    if q == 10:\n        print(3628800)\n        return\n\n    if q == 11:\n        print(39916800)\n        return\n\n    if q == 12:\n        print(479001600)\n        return\n\n    if q == 13:\n        print(6227020800)\n        return\n\n    if q == 14:\n        print(87178291200)\n        return\n\n    if q == 15:\n        print(1307674368000)\n        return\n\n    if q == 16:\n        print(20922789888000)\n        return\n\n    if q == 17:\n        print(355687428096000)\n        return\n\n    if q == 18:\n        print(6402373705728000)\n        return\n\n    if q == 19:\n        print(121645100408832000)\n        return\n\n    if q == 20:\n        print(2432902008176640000)\n        return\n\n    if q == 21:\n        print(51090942171709440000)\n        return\n\n    if q == 22:\n        print(1124000727777607680000)\n        return\n\n    if q == 23:\n        print(25852016738884976640000)\n        return\n\n    if q == 24:\n        print(620448401733239439360000)\n        return\n\n    if q == 25:\n        print(15511210043330985984000000)\n        return\n\n    if q == 26:\n        print(403291461126605635584000000)\n        return\n\n    if q == 27:\n        print(10888869450418352160768000000)\n        return\n\n    if q == 28:\n        print(304888344611713860501504000000)\n        return\n\n    if q == 29:\n        print(8841761993739701954543616000000)\n        return\n\n    if q == 30:\n        print(265252859812191058636308480000000)\n        return\n\n    if q == 31:\n        print(8222838654177922817725562880000000)\n        return\n\n    if q == 32:\n        print(263130836933693530167218012160000000)\n        return\n\n    if q == 33:\n        print(8683317618811886495518194401280000000)\n        return\n\n    if q == 34:\n        print(295232799039604140847618609643520000000)\n        return\n\n    if q == 35:\n        print(10333147966386144929666651337523200000000)\n        return\n\n    if q == 36:\n        print(371993326789901217467999448150835200000000)\n        return\n\n    if q == 37:\n        print(13763753091226345046315979581580902400000000)\n        return\n\n    if q == 38:\n        print(523022617466601111760007224100074291200000000)\n        return\n\n    if q == 39:\n        print(20397882081197443358640281739902897356800000000)\n        return\n\n    if q == 40:\n        print(815915283247897734345611269596115894272000000000)\n        return\n\n    if q == 41:\n        print(33452526613163807108170062053440751665152000000000)\n        return\n\n    if q == 42:\n        print(1405006117752879898543142606244511569936384000000000)\n        return\n\n    if q == 43:\n        print(60415263063373835637355132068513997507264512000000000)\n        return\n\n    if q == 44:\n        print(2658271574788448768043625811014615890319638528000000000)\n        return\n\n    if q == 45:\n        print(119622220865480194561963161495657715064383733760000000000)\n        return\n\n    if q == 46:\n        print(5502622159812088949850305428800254892961651752960000000000)\n        return\n\n    if q == 47:\n        print(258623241511168180642964355153611979969197632389120000000000)\n        return\n\n    if q == 48:\n        print(12413915592536072670862289047373375038521486354677760000000000)\n        return\n\n    if q == 49:\n        print(608281864034267560872252163321295376887552831379210240000000000)\n        return\n\n    if q == 50:\n        print(30414093201713378043612608166064768844377641568960512000000000000)\n        return\n\n    if q == 51:\n        print(1551118753287382280224243016469303211063259720016986112000000000000)\n        return\n\n    if q == 52:\n        print(80658175170943878571660636856403766975289505440883277824000000000000)\n        return\n\n    if q == 53:\n        print(4274883284060025564298013753389399649690343788366813724672000000000000)\n        return\n\n    if q == 54:\n        print(230843697339241380472092742683027581083278564571807941132288000000000000)\n        return\n\n    if q == 55:\n        print(12696403353658275925965100847566516959580321051449436762275840000000000000)\n        return\n\n    if q == 56:\n        print(710998587804863451854045647463724949736497978881168458687447040000000000000)\n        return\n\n    if q == 57:\n        print(40526919504877216755680601905432322134980384796226602145184481280000000000000)\n        return\n\n    if q == 58:\n        print(2350561331282878571829474910515074683828862318181142924420699914240000000000000)\n        return\n\n    if q == 59:\n        print(138683118545689835737939019720389406345902876772687432540821294940160000000000000)\n        return\n\n    if q == 60:\n        print(8320987112741390144276341183223364380754172606361245952449277696409600000000000000)\n        return\n\n    if q == 61:\n        print(507580213877224798800856812176625227226004528988036003099405939480985600000000000000)\n        return\n\n    if q == 62:\n        print(31469973260387937525653122354950764088012280797258232192163168247821107200000000000000)\n        return\n\n    if q == 63:\n        print(1982608315404440064116146708361898137544773690227268628106279599612729753600000000000000)\n        return\n\n    if q == 64:\n        print(126886932185884164103433389335161480802865516174545192198801894375214704230400000000000000)\n        return\n\n    if q == 65:\n        print(8247650592082470666723170306785496252186258551345437492922123134388955774976000000000000000)\n        return\n\n    if q == 66:\n        print(544344939077443064003729240247842752644293064388798874532860126869671081148416000000000000000)\n        return\n\n    if q == 67:\n        print(36471110918188685288249859096605464427167635314049524593701628500267962436943872000000000000000)\n        return\n\n    if q == 68:\n        print(2480035542436830599600990418569171581047399201355367672371710738018221445712183296000000000000000)\n        return\n\n    if q == 69:\n        print(171122452428141311372468338881272839092270544893520369393648040923257279754140647424000000000000000)\n        return\n\n    if q == 70:\n        print(11978571669969891796072783721689098736458938142546425857555362864628009582789845319680000000000000000)\n        return\n\n    if q == 71:\n        print(850478588567862317521167644239926010288584608120796235886430763388588680378079017697280000000000000000)\n        return\n\n    if q == 72:\n        print(61234458376886086861524070385274672740778091784697328983823014963978384987221689274204160000000000000000)\n        return\n\n    if q == 73:\n        print(4470115461512684340891257138125051110076800700282905015819080092370422104067183317016903680000000000000000)\n        return\n\n    if q == 74:\n        print(330788544151938641225953028221253782145683251820934971170611926835411235700971565459250872320000000000000000)\n        return\n\n    if q == 75:\n        print(24809140811395398091946477116594033660926243886570122837795894512655842677572867409443815424000000000000000000)\n        return\n\n    if q == 76:\n        print(1885494701666050254987932260861146558230394535379329335672487982961844043495537923117729972224000000000000000000)\n        return\n\n    if q == 77:\n        print(145183092028285869634070784086308284983740379224208358846781574688061991349156420080065207861248000000000000000000)\n        return\n\n    if q == 78:\n        print(11324281178206297831457521158732046228731749579488251990048962825668835325234200766245086213177344000000000000000000)\n        return\n\n    if q == 79:\n        print(894618213078297528685144171539831652069808216779571907213868063227837990693501860533361810841010176000000000000000000)\n        return\n\n    if q == 80:\n        print(71569457046263802294811533723186532165584657342365752577109"
}
2022-04-18 21:59:07.033840 REASON length
2022-04-18 21:59:07.033850 1 {
  "finish_reason": "length",
  "index": 1,
  "logprobs": null,
  "text": "\n\nimport sys\n\ndef main():\n    n = int(input())\n    s = input()\n    k = s.count('?')\n    s = s.replace('?', '')\n    a = s.count('a')\n    b = s.count('b')\n    c = s.count('c')\n    if a == 0 or b == 0 or c == 0:\n        print(0)\n        sys.exit()\n    if k == 0:\n        print(0)\n        sys.exit()\n    if k == 1:\n        print(a * b * c)\n        sys.exit()\n    if k == 2:\n        print(a * b * c * (a + b + c - 2))\n        sys.exit()\n    if k == 3:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) // 2)\n        sys.exit()\n    if k == 4:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) // 6)\n        sys.exit()\n    if k == 5:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) // 24)\n        sys.exit()\n    if k == 6:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) // 120)\n        sys.exit()\n    if k == 7:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) // 720)\n        sys.exit()\n    if k == 8:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) // 5040)\n        sys.exit()\n    if k == 9:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) // 40320)\n        sys.exit()\n    if k == 10:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) // 362880)\n        sys.exit()\n    if k == 11:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) // 3628800)\n        sys.exit()\n    if k == 12:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) // 39916800)\n        sys.exit()\n    if k == 13:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) // 479001600)\n        sys.exit()\n    if k == 14:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) // 6227020800)\n        sys.exit()\n    if k == 15:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) // 87178291200)\n        sys.exit()\n    if k == 16:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) // 1307674368000)\n        sys.exit()\n    if k == 17:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) // 20922789888000)\n        sys.exit()\n    if k == 18:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) // 355687428096000)\n        sys.exit()\n    if k == 19:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) // 6402373705728000)\n        sys.exit()\n    if k == 20:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) * (a + b + c - 20) // 121645100408832000)\n        sys.exit()\n    if k == 21:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a + b + c - 11) * (a + b + c - 12) * (a + b + c - 13) * (a + b + c - 14) * (a + b + c - 15) * (a + b + c - 16) * (a + b + c - 17) * (a + b + c - 18) * (a + b + c - 19) * (a + b + c - 20) * (a + b + c - 21) // 2432902008176640000)\n        sys.exit()\n    if k == 22:\n        print(a * b * c * (a + b + c - 2) * (a + b + c - 3) * (a + b + c - 4) * (a + b + c - 5) * (a + b + c - 6) * (a + b + c - 7) * (a + b + c - 8) * (a + b + c - 9) * (a + b + c - 10) * (a +"
}
2022-04-18 21:59:07.033913 REASON length
