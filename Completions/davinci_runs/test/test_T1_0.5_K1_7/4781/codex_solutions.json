["\n\nk = int(input())\nn = int(input())\n\nfor i in range(n):\n    t, z = input().split()\n    t = int(t)\n    if z == \"T\":\n        k = k % 8 + 1\n    elif z == \"N\":\n        pass\n    else:\n        k = k % 8 + 2\nprint(k)", "\n\nK = int(input())\nN = int(input())\n\n# Box is passed to the left\nfor i in range(N):\n    T, Z = input().split()\n    T = int(T)\n    if Z == 'T':\n        K -= 1\n        if K == 0:\n            K = 8\n    elif Z == 'N':\n        continue\n    else: # Z == 'P'\n        K -= 1\n        if K == 0:\n            K = 8\n\nprint(K)", "\n\nk = int(input())\nn = int(input())\n\nfor i in range(n):\n    t, z = input().split()\n    t = int(t)\n    if z == 'T':\n        k = k - 1 if k > 1 else 8\n    elif z == 'N':\n        pass\n    else:\n        k = k - 1 if k > 1 else 8\n        k = k - 1 if k > 1 else 8\n    if t > 210:\n        break\n\nprint(k)", "\n\nk, n = int(input()), int(input())\n\ntime = 0\nfor i in range(n):\n    t, z = input().split()\n    t, z = int(t), z\n    time += t\n    if time >= 210:\n        break\n    if z == \"T\":\n        k = (k % 8) + 1\n    elif z == \"N\":\n        k = (k + 7) % 8\nprint(k)", "\n\nk, n = map(int, input().split())\n\nfor i in range(n):\n    t, z = input().split()\n    if z == \"T\":\n        k += 1\n    else:\n        k -= 1\n    if k == 0:\n        k = 8\n    elif k == 9:\n        k = 1\n\nprint(k)", "\n\ndef happy_birthday(k, n, t, z):\n    \"\"\"\n    >>> happy_birthday(1, 5, [20, 50, 80, 50, 30], ['T', 'T', 'T', 'T', 'T'])\n    5\n    >>> happy_birthday(3, 5, [100, 100, 100, 100, 100], ['T', 'N', 'T', 'T', 'N'])\n    4\n    \"\"\"\n    p = k\n    for i in range(n):\n        if z[i] == 'T':\n            p = (p + t[i]//30) % 8\n            if p == 0:\n                p = 8\n        elif z[i] == 'N':\n            p = (p + t[i]//30) % 8\n            if p == 0:\n                p = 8\n    return p\n\nif __name__ == \"__main__\":\n    import doctest\n    doctest.testmod()", "\n\n#-----main-----\n\nk = int(input())\nn = int(input())\n\nfor i in range(n):\n    t, z = input().split()\n    t, z = int(t), z\n    if t <= 210:\n        if z == 'T':\n            k = k % 8 + 1\n        elif z == 'N':\n            k = k % 8 - 1\n    else:\n        break\n\nprint(k)"]