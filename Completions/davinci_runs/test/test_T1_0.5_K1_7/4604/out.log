2022-04-13 22:01:55.069914 """
There are N people, conveniently numbered 1 through N.
They were standing in a row yesterday, but now they are unsure of the order in which they were standing.
However, each person remembered the following fact: the absolute difference of the number of the people who were standing to the left of that person, and the number of the people who were standing to the right of that person.
According to their reports, the difference above for person i is A_i.
Based on these reports, find the number of the possible orders in which they were standing.
Since it can be extremely large, print the answer modulo 10^9+7.
Note that the reports may be incorrect and thus there may be no consistent order.
In such a case, print 0.

-----Constraints-----
 - 1≦N≦10^5
 - 0≦A_i≦N-1

-----Input-----
The input is given from Standard Input in the following format:
N
A_1 A_2 ... A_N

-----Output-----
Print the number of the possible orders in which they were standing, modulo 10^9+7.

-----Sample Input-----
5
2 4 4 0 2

-----Sample Output-----
4

There are four possible orders, as follows:
 - 2,1,4,5,3
 - 2,5,4,1,3
 - 3,1,4,5,2
 - 3,5,4,1,2
"""
2022-04-13 22:01:55.069924 --------------------------
2022-04-13 22:02:22.629569 {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "text": "\n\nimport sys\n\n\ndef main():\n    n = int(sys.stdin.readline())\n    a = list(map(int, sys.stdin.readline().split()))\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u304ci\u306e\u4eba\u6570\u3092\u6570\u3048\u4e0a\u3052\u308b\n    diff_count = [0] * (n + 1)\n    for i in a:\n        diff_count[i] += 1\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u304ci\u306e\u4eba\u6570\u304cj\u4eba\u3044\u308b\u3068\u304d\u3001\u305d\u306e\u4eba\u6570\u306e\u7d44\u307f\u5408\u308f\u305b\u306f\n    # (n-1)! / (j! * (n-1-j)!) \u901a\u308a\u3042\u308b\n    fact = [1, 1]\n    for i in range(2, n + 1):\n        fact.append((fact[-1] * i) % 1000000007)\n    ans = 1\n    for i in diff_count:\n        ans *= fact[i]\n        ans %= 1000000007\n    print(ans)\n\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 1,
      "logprobs": null,
      "text": "\n\n\nimport sys\n\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if N == 1:\n        print(1)\n        sys.exit()\n    elif N == 2:\n        if A[0] == A[1]:\n            print(2)\n        else:\n            print(0)\n        sys.exit()\n    elif N == 3:\n        if A[0] == A[1] and A[1] == A[2]:\n            print(6)\n        elif A[0] == A[1] or A[1] == A[2]:\n            print(3)\n        else:\n            print(0)\n        sys.exit()\n    if A[0] != A[1] or A[N-1] != A[N-2]:\n        print(0)\n        sys.exit()\n    for i in range(1, N-1):\n        if A[i] < A[i-1] or A[i] < A[i+1]:\n            print(0)\n            sys.exit()\n    for i in range(1, N-1):\n        if A[i] == A[i-1] + A[i+1]:\n            print(0)\n            sys.exit()\n    for i in range(1, N-1):\n        if A[i] != A[i-1] and A[i] != A[i+1]:\n            print(0)\n            sys.exit()\n    print(2**(N-2) % (10**9+7))\n\n\nif __name__ == \"__main__\":\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 2,
      "logprobs": null,
      "text": "\nimport math\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if N == 1:\n        print(1)\n        return\n    if N == 2:\n        if A[0] == A[1]:\n            print(2)\n        else:\n            print(0)\n        return\n    # print(A)\n    # print(N)\n    # print(A[0] + A[-1])\n    # print(A[1] + A[-2])\n    if A[0] + A[-1] == A[1] + A[-2]:\n        print(math.factorial(N) % (10**9+7))\n    else:\n        print(0)\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 3,
      "logprobs": null,
      "text": "\n\n# My answer\n\nimport sys\n\nN = int(sys.stdin.readline())\nA = list(map(int, sys.stdin.readline().split()))\n\nif N == 1:\n    print(1)\n    exit()\n\ndef combination(a, b):\n    return a // b\n\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n - 1)\n\nresult = 0\n\nfor i in range(N):\n    result += combination(factorial(N - 1), A[i])\n\nprint(result % (10 ** 9 + 7))"
    },
    {
      "finish_reason": "stop",
      "index": 4,
      "logprobs": null,
      "text": "\n\n#import sys\n#sys.setrecursionlimit(100000)\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    #print(N, A)\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u3044\u308b\u6570\u3092\u30ab\u30a6\u30f3\u30c8\n    diff_count = {}\n    for i in range(N):\n        if A[i] not in diff_count:\n            diff_count[A[i]] = 0\n        diff_count[A[i]] += 1\n    #print(diff_count)\n\n    # \u5dee\u304c0\u306e\u5834\u5408\u306f\u7d44\u307f\u5408\u308f\u305b\u304c\u3042\u308b(0\u4eba\u304b1\u4eba)\n    if 0 in diff_count:\n        if diff_count[0] == N:\n            # \u5168\u54e10\u306e\u5834\u5408\u306f1\u901a\u308a\n            print(1)\n        else:\n            # \u5dee\u304c0\u306e\u4eba\u304c1\u4eba\u306e\u5834\u5408\u306f2\u901a\u308a\n            print(2)\n        return\n\n    # \u5dee\u304c0\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u5076\u6570\u4eba\u3044\u308c\u3070\u7d44\u307f\u5408\u308f\u305b\u304c\u3042\u308b\n    for i in range(1, N):\n        if i in diff_count and diff_count[i] % 2 == 0:\n            print(2)\n            return\n\n    # \u5dee\u304c0\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u5947\u6570\u4eba\u3044\u308c\u3070\u7d44\u307f\u5408\u308f\u305b\u304c\u306a\u3044\n    print(0)\n\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 5,
      "logprobs": null,
      "text": "\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if A.count(0) > 1:\n        print(0)\n        return\n    elif A.count(0) == 1 and A.count(N-1) == 1:\n        print(0)\n        return\n    elif A.count(0) == 1 and A.count(N-1) == 0:\n        A.remove(0)\n        N -= 1\n    elif A.count(0) == 0 and A.count(N-1) == 1:\n        A.remove(N-1)\n        N -= 1\n    A.sort()\n    count = 0\n    for i in range(N):\n        if A[i] != i:\n            print(0)\n            return\n        count += A.count(i)\n    print(count)\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 6,
      "logprobs": null,
      "text": "\n\nimport sys\n\ndef main():\n    n = int(input())\n    a = list(map(int,input().split()))\n    b = [0] * (n+1)\n    for i in range(n):\n        b[a[i]] += 1\n    for i in range(n):\n        if b[i] > 1:\n            print(0)\n            sys.exit()\n    ans = 1\n    for i in range(n):\n        if a[i] == 0:\n            continue\n        ans *= (n-i-1)\n        ans //= a[i]\n        ans %= (10**9+7)\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
    }
  ],
  "created": 1649887315,
  "id": "cmpl-4wfLflBamETnEP5JuIefWKTSR4W8w",
  "model": "code-davinci:002",
  "object": "text_completion"
}
2022-04-13 22:02:22.629880 0 {
  "finish_reason": "stop",
  "index": 0,
  "logprobs": null,
  "text": "\n\nimport sys\n\n\ndef main():\n    n = int(sys.stdin.readline())\n    a = list(map(int, sys.stdin.readline().split()))\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u304ci\u306e\u4eba\u6570\u3092\u6570\u3048\u4e0a\u3052\u308b\n    diff_count = [0] * (n + 1)\n    for i in a:\n        diff_count[i] += 1\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u304ci\u306e\u4eba\u6570\u304cj\u4eba\u3044\u308b\u3068\u304d\u3001\u305d\u306e\u4eba\u6570\u306e\u7d44\u307f\u5408\u308f\u305b\u306f\n    # (n-1)! / (j! * (n-1-j)!) \u901a\u308a\u3042\u308b\n    fact = [1, 1]\n    for i in range(2, n + 1):\n        fact.append((fact[-1] * i) % 1000000007)\n    ans = 1\n    for i in diff_count:\n        ans *= fact[i]\n        ans %= 1000000007\n    print(ans)\n\n\nif __name__ == '__main__':\n    main()"
}
2022-04-13 22:02:22.629985 REASON stop
2022-04-13 22:02:22.630415 1 {
  "finish_reason": "stop",
  "index": 1,
  "logprobs": null,
  "text": "\n\n\nimport sys\n\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if N == 1:\n        print(1)\n        sys.exit()\n    elif N == 2:\n        if A[0] == A[1]:\n            print(2)\n        else:\n            print(0)\n        sys.exit()\n    elif N == 3:\n        if A[0] == A[1] and A[1] == A[2]:\n            print(6)\n        elif A[0] == A[1] or A[1] == A[2]:\n            print(3)\n        else:\n            print(0)\n        sys.exit()\n    if A[0] != A[1] or A[N-1] != A[N-2]:\n        print(0)\n        sys.exit()\n    for i in range(1, N-1):\n        if A[i] < A[i-1] or A[i] < A[i+1]:\n            print(0)\n            sys.exit()\n    for i in range(1, N-1):\n        if A[i] == A[i-1] + A[i+1]:\n            print(0)\n            sys.exit()\n    for i in range(1, N-1):\n        if A[i] != A[i-1] and A[i] != A[i+1]:\n            print(0)\n            sys.exit()\n    print(2**(N-2) % (10**9+7))\n\n\nif __name__ == \"__main__\":\n    main()"
}
2022-04-13 22:02:22.630524 REASON stop
2022-04-13 22:02:22.630902 2 {
  "finish_reason": "stop",
  "index": 2,
  "logprobs": null,
  "text": "\nimport math\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if N == 1:\n        print(1)\n        return\n    if N == 2:\n        if A[0] == A[1]:\n            print(2)\n        else:\n            print(0)\n        return\n    # print(A)\n    # print(N)\n    # print(A[0] + A[-1])\n    # print(A[1] + A[-2])\n    if A[0] + A[-1] == A[1] + A[-2]:\n        print(math.factorial(N) % (10**9+7))\n    else:\n        print(0)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-13 22:02:22.630947 REASON stop
2022-04-13 22:02:22.632284 3 {
  "finish_reason": "stop",
  "index": 3,
  "logprobs": null,
  "text": "\n\n# My answer\n\nimport sys\n\nN = int(sys.stdin.readline())\nA = list(map(int, sys.stdin.readline().split()))\n\nif N == 1:\n    print(1)\n    exit()\n\ndef combination(a, b):\n    return a // b\n\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n - 1)\n\nresult = 0\n\nfor i in range(N):\n    result += combination(factorial(N - 1), A[i])\n\nprint(result % (10 ** 9 + 7))"
}
2022-04-13 22:02:22.632336 REASON stop
2022-04-13 22:02:22.656096 4 {
  "finish_reason": "stop",
  "index": 4,
  "logprobs": null,
  "text": "\n\n#import sys\n#sys.setrecursionlimit(100000)\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    #print(N, A)\n\n    # \u5de6\u53f3\u306e\u4eba\u6570\u306e\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u3044\u308b\u6570\u3092\u30ab\u30a6\u30f3\u30c8\n    diff_count = {}\n    for i in range(N):\n        if A[i] not in diff_count:\n            diff_count[A[i]] = 0\n        diff_count[A[i]] += 1\n    #print(diff_count)\n\n    # \u5dee\u304c0\u306e\u5834\u5408\u306f\u7d44\u307f\u5408\u308f\u305b\u304c\u3042\u308b(0\u4eba\u304b1\u4eba)\n    if 0 in diff_count:\n        if diff_count[0] == N:\n            # \u5168\u54e10\u306e\u5834\u5408\u306f1\u901a\u308a\n            print(1)\n        else:\n            # \u5dee\u304c0\u306e\u4eba\u304c1\u4eba\u306e\u5834\u5408\u306f2\u901a\u308a\n            print(2)\n        return\n\n    # \u5dee\u304c0\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u5076\u6570\u4eba\u3044\u308c\u3070\u7d44\u307f\u5408\u308f\u305b\u304c\u3042\u308b\n    for i in range(1, N):\n        if i in diff_count and diff_count[i] % 2 == 0:\n            print(2)\n            return\n\n    # \u5dee\u304c0\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u5dee\u306e\u7d76\u5bfe\u5024\u304c\u540c\u3058\u4eba\u304c\u5947\u6570\u4eba\u3044\u308c\u3070\u7d44\u307f\u5408\u308f\u305b\u304c\u306a\u3044\n    print(0)\n\n\nif __name__ == '__main__':\n    main()"
}
2022-04-13 22:02:22.656193 REASON stop
2022-04-13 22:02:22.656751 5 {
  "finish_reason": "stop",
  "index": 5,
  "logprobs": null,
  "text": "\n\ndef main():\n    N = int(input())\n    A = list(map(int, input().split()))\n    if A.count(0) > 1:\n        print(0)\n        return\n    elif A.count(0) == 1 and A.count(N-1) == 1:\n        print(0)\n        return\n    elif A.count(0) == 1 and A.count(N-1) == 0:\n        A.remove(0)\n        N -= 1\n    elif A.count(0) == 0 and A.count(N-1) == 1:\n        A.remove(N-1)\n        N -= 1\n    A.sort()\n    count = 0\n    for i in range(N):\n        if A[i] != i:\n            print(0)\n            return\n        count += A.count(i)\n    print(count)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-13 22:02:22.656822 REASON stop
2022-04-13 22:02:22.657721 6 {
  "finish_reason": "stop",
  "index": 6,
  "logprobs": null,
  "text": "\n\nimport sys\n\ndef main():\n    n = int(input())\n    a = list(map(int,input().split()))\n    b = [0] * (n+1)\n    for i in range(n):\n        b[a[i]] += 1\n    for i in range(n):\n        if b[i] > 1:\n            print(0)\n            sys.exit()\n    ans = 1\n    for i in range(n):\n        if a[i] == 0:\n            continue\n        ans *= (n-i-1)\n        ans //= a[i]\n        ans %= (10**9+7)\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-13 22:02:22.657778 REASON stop
