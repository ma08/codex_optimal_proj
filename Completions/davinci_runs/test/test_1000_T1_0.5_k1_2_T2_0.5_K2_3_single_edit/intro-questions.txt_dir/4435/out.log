2022-04-09 20:10:06.457098 """
You are given an array $a$ consisting of $n$ integers. In one move, you can jump from the position $i$ to the position $i - a_i$ (if $1 \le i - a_i$) or to the position $i + a_i$ (if $i + a_i \le n$).

For each position $i$ from $1$ to $n$ you want to know the minimum the number of moves required to reach any position $j$ such that $a_j$ has the opposite parity from $a_i$ (i.e. if $a_i$ is odd then $a_j$ has to be even and vice versa).


-----Input-----

The first line of the input contains one integer $n$ ($1 \le n \le 2 \cdot 10^5$) â€” the number of elements in $a$.

The second line of the input contains $n$ integers $a_1, a_2, \dots, a_n$ ($1 \le a_i \le n$), where $a_i$ is the $i$-th element of $a$.


-----Output-----

Print $n$ integers $d_1, d_2, \dots, d_n$, where $d_i$ is the minimum the number of moves required to reach any position $j$ such that $a_j$ has the opposite parity from $a_i$ (i.e. if $a_i$ is odd then $a_j$ has to be even and vice versa) or -1 if it is impossible to reach such a position.


-----Example-----
Input
10
4 5 7 6 7 5 4 4 6 4

Output
1 1 1 2 -1 1 1 3 1 1
"""
2022-04-09 20:10:06.457120 --------------------------
2022-04-09 20:10:26.149244 {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "text": "\n\nimport queue\n\nn = int(input())\na = list(map(int, input().split()))\n\nq = queue.Queue()\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))\n\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\n\nvisited = [False] * n\n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:\n        q.put((curr + a[curr], dist + 1))\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n    else:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)"
    },
    {
      "finish_reason": "stop",
      "index": 1,
      "logprobs": null,
      "text": "\n\n# SOLUTION\n\n#!/usr/bin/env python3\n\nn = int(input())\na = list(map(int, input().split()))\n\nd = [0] * n\n\nfor i in range(n - 1, -1, -1):\n    if i + a[i] < n:\n        d[i] = d[i + a[i]] + 1\n    if i - a[i] >= 0:\n        d[i] = min(d[i], d[i - a[i]] + 1)\n    if d[i] == 0:\n        d[i] = -1\n\nprint(*d)"
    }
  ],
  "created": 1649549406,
  "id": "cmpl-4vFRWLHnlwPO0xpsbs9DryXUoNToW",
  "model": "code-davinci:002",
  "object": "text_completion"
}
2022-04-09 20:10:26.149514 0 {
  "finish_reason": "stop",
  "index": 0,
  "logprobs": null,
  "text": "\n\nimport queue\n\nn = int(input())\na = list(map(int, input().split()))\n\nq = queue.Queue()\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))\n\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\n\nvisited = [False] * n\n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:\n        q.put((curr + a[curr], dist + 1))\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n    else:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)"
}
2022-04-09 20:10:26.149574 REASON stop
2022-04-09 20:10:26.150967 1 {
  "finish_reason": "stop",
  "index": 1,
  "logprobs": null,
  "text": "\n\n# SOLUTION\n\n#!/usr/bin/env python3\n\nn = int(input())\na = list(map(int, input().split()))\n\nd = [0] * n\n\nfor i in range(n - 1, -1, -1):\n    if i + a[i] < n:\n        d[i] = d[i + a[i]] + 1\n    if i - a[i] >= 0:\n        d[i] = min(d[i], d[i - a[i]] + 1)\n    if d[i] == 0:\n        d[i] = -1\n\nprint(*d)"
}
2022-04-09 20:10:26.151067 REASON stop
