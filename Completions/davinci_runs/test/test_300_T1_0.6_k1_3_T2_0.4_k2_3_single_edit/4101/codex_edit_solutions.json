["\n\n#!/usr/bin/env python\n\nimport sys\nfrom math import *\nfrom string import *\nfrom datetime import *\nfrom time import *\nfrom random import *\n\nn, m = map(int, input().split())\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\n#print(n, m)\n#print(a)\n\nr = []\nc = []\nfor i in range(n):\n    r.append(0)\nfor j in range(m):\n    c.append(0)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 0:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\n# #print(r)\n# #print(c)\n\n# for i in range(n):\n#     for j in range(m):\n#         if a[i][j] == 1:\n#             r[i] = (r[i] + 1) % 2\n#             c[j] = (c[j] + 1) % 2\n\n# #print(r)\n# #print(c)\n\n# a_sort = []\n# for i in range(n):\n#     for j in range(m):\n#         a_sort.append(a[i][j])\n# a_sort = sorted(a_sort)\n# #print(a_sort)\n\n# for i in range(n):\n#     for j in range(m):\n#         if a[i][j] != a_sort[i * m + j]:\n#             print(\"NO\")\n#             exit()\n\n# print(\"YES\")\n# print(\"\".join(map(str, r)))\n# print(\"\".join(map(str, c)))\n\nn, m = map(int, input().split())\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\nr = []\nc = []\nfor i in range(n):\n    r.append(0)\nfor j in range(m):\n    c.append(0)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 0:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 1:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\na_sort = []\nfor i in range(n):\n    for j in range(m):\n        a_sort.append(a[i][j])\na_sort = sorted(a_sort)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] != a_sort[i * m + j]:\n            print(\"NO\")\n            exit()\n\nprint(\"YES\")\nprint(\"\".join(map(str, r)))\nprint(\"\".join(map(str, c)))\n", "\n\n\nn, m = map(int, input().split())\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\nr = []\nc = []\nfor i in range(n):\n    r.append(0)\nfor j in range(m):\n    c.append(0)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 0:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 1:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\na_sort = []\nfor i in range(n):\n    for j in range(m):\n        a_sort.append(a[i][j])\na_sort = sorted(a_sort)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] != a_sort[i * m + j]:\n            print(\"NO\")\n            exit()\n\nprint(\"YES\")\nprint(\"\".join(map(str, r)))\nprint(\"\".join(map(str, c)))\n#!/usr/bin/env python\n\n# import sys\n# from math import *\n# from string import *\n# from datetime import *\n# from time import *\n# from random import *\n\n# n, m = map(int, input().split())\n# a = []\n# for i in range(n):\n#     a.append(list(map(int, input().split())))\n\n# #print(n, m)\n# #print(a)\n\n# r = []\n# c = []\n# for i in range(n):\n#     r.append(0)\n# for j in range(m):\n#     c.append(0)\n\n# for i in range(n):\n#     for j in range(m):\n#         if a[i][j] == 0:\n#             r[i] = (r[i] + 1) % 2\n#             c[j] = (c[j] + 1) % 2\n\n# #print(r)\n# #print(c)\n\n# for i in range(n):\n#     for j in range(m):\n#         if a[i][j] == 1:\n#             r[i] = (r[i] + 1) % 2\n#             c[j] = (c[j] + 1) % 2\n\n# #print(r)\n# #print(c)\n\n# a_sort = []\n# for i in range(n):\n#     for j in range(m):\n#         a_sort.append(a[i][j])\n# a_sort = sorted(a_sort)\n# #print(a_sort)\n\n# for i in range(n):\n#     for j in range(m):\n#         if a[i][j] != a_sort[i * m + j]:\n#             print(\"NO\")\n#             exit()\n\n# print(\"YES\")\n# print(\"\".join(map(str, r)))\n# print(\"\".join(map(str, c)))\n", "\n\nimport sys\n\ndef main():\n    n, m = [int(x) for x in sys.stdin.readline().split()]\n\n    a = []\n    for i in range(n):\n        a.append([int(x) for x in sys.stdin.readline().split()])\n\n    r = [0]*n\n    c = [0]*m\n\n    for i in range(n):\n        zero = 0\n        one = 0\n        for j in range(m):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            r[i] = 1\n\n    for j in range(m):\n        zero = 0\n        one = 0\n        for i in range(n):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            c[j] = 1\n\n    for i in range(n):\n        for j in range(m):\n            if r[i] == 1:\n                a[i][j] = 1 - a[i][j]\n            if c[j] == 1:\n                a[i][j] = 1 - a[i][j]\n\n    sorted = True\n    for i in range(n):\n        for j in range(m-1):\n            if a[i][j] > a[i][j+1]:\n                sorted = False\n\n    if sorted:\n        print(\"YES\")\n        print(\"\".join([str(x) for x in r]) + \" \")\n        print(\"\".join([str(x) for x in c]) + \" \")\n    else:\n        print(\"NO\")\n\nif __name__ == '__main__':\n    main()\n", "\n\nfrom collections import *\n\nn, m = map(int, input().split())\nm = [[int(i) for i in input().split()] for _ in range(n)]\n\n# if a row is sorted, mark it as \"good\"\n# if a row is not sorted, mark it as \"bad\"\n# if a column has 0s, mark it as \"bad\"\n# if a column has 1s, mark it as \"good\"\n# if a column has both 0s and 1s, mark it as \"bad\"\n\n# after finding all the good and bad rows and columns,\n# we can do the following:\n# if there are more than 1 \"good\" row,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"good\" column,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"bad\" row and\n# more than 1 \"bad\" column, we cannot sort the matrix\n# if there are more than 1 \"bad\" row and 0 \"bad\" column,\n# we can invert any of the \"bad\" rows to make it \"good\"\n# if there are more than 1 \"bad\" column and 0 \"bad\" row,\n# we can invert any of the \"bad\" columns to make it \"good\"\n# if there is 1 \"bad\" row and 1 \"bad\" column,\n# we can invert any 1 of them to make it \"good\"\n\ngood_rows = []\ngood_cols = []\nbad_rows = []\nbad_cols = []\n\nfor i in range(n):\n    if all(m[i]):\n        good_rows.append(i)\n    elif not any(m[i]):\n        bad_rows.append(i)\n\nfor j in range(n):\n    if not any(m[i][j] for i in range(n)):\n        bad_cols.append(j)\n    elif all(m[i][j] for i in range(n)):\n        good_cols.append(j)\n\nif len(good_rows) > 1 or len(good_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelif len(bad_rows) > 1 and len(bad_cols) > 1:\n    print(\"NO\")\nelif len(bad_rows) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelif len(bad_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelse:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\n", "\nimport sys\n\ndef main():\n    n, m = [int(x) for x in sys.stdin.readline().split()]\n\n    a = []\n    for i in range(n):\n        a.append([int(x) for x in sys.stdin.readline().split()])\n\n    r = [0]*n\n    c = [0]*m\n\n    for i in range(n):\n        zero = 0\n        one = 0\n        for j in range(m):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            r[i] = 1\n\n    for j in range(m):\n        zero = 0\n        one = 0\n        for i in range(n):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            c[j] = 1\n\n    for i in range(n):\n        for j in range(m):\n            if r[i] == 1:\n                a[i][j] = 1 - a[i][j]\n            if c[j] == 1:\n                a[i][j] = 1 - a[i][j]\n\n    sorted = True\n    for i in range(n):\n        for j in range(m-1):\n            if a[i][j] > a[i][j+1]:\n                sorted = False\n\n    if sorted:\n        print(\"YES\")\n        print(\"\".join([str(x) for x in r]))\n        print(\"\".join([str(x) for x in c]))\n    else:\n        print(\"NO\")\n\nif __name__ == '__main__':\n    main()\n", "\n\nfrom collections import defaultdict\n\nn, m = map(int, input().split())\nmatrix = [[int(i) for i in input().split()] for _ in range(n)]\n\n# if a row is sorted, mark it as \"good\"\n# if a row is not sorted, mark it as \"bad\"\n# if a column has 0s, mark it as \"bad\"\n# if a column has 1s, mark it as \"good\"\n# if a column has both 0s and 1s, mark it as \"bad\"\n\n# after finding all the good and bad rows and columns,\n# we can do the following:\n# if there are more than 1 \"good\" row,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"good\" column,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"bad\" row and\n# more than 1 \"bad\" column, we cannot sort the matrix\n# if there are more than 1 \"bad\" row and 0 \"bad\" column,\n# we can invert any of the \"bad\" rows to make it \"good\"\n# if there are more than 1 \"bad\" column and 0 \"bad\" row,\n# we can invert any of the \"bad\" columns to make it \"good\"\n# if there is 1 \"bad\" row and 1 \"bad\" column,\n# we can invert any 1 of them to make it \"good\"\n\ngood_rows = []\ngood_cols = []\nbad_rows = []\nbad_cols = []\n\nfor i in range(n):\n    if all(matrix[i]):\n        good_rows.append(i)\n    elif not any(matrix[i]):\n        bad_rows.append(i)\n\nfor j in range(m):  # m is the number of columns\n    if not any(matrix[i][j] for i in range(n)):\n        bad_cols.append(j)\n    elif all(m[i][j] for i in range(n)):\n        good_cols.append(j)\n\nif len(good_rows) > 1 or len(good_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\nelif len(bad_rows) > 1 and len(bad_cols) > 1:\n    print(\"NO\")\nelif len(bad_rows) > 1:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\nelif len(bad_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\nelse:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\n", "\n\n# !/usr/bin/env python\n\n# import sys from math import * from string import * from datetime import * from time import * from random import *\n\n# n, m = map(int, input().split()) a = [] for i in range(n): a.append(list(map(int, input().split())))\n\n# # print(n, m) # print(a)\n\n# r = [] c = [] for i in range(n): r.append(0) for j in range(m): c.append(0)\n\n# for i in range(n): for j in range(m): if a[i][j] == 0: r[i] = (r[i] + 1) % 2 c[j] = (c[j] + 1) % 2\n\n# # print(r) # print(c)\n\n# for i in range(n): for j in range(m): if a[i][j] == 1: r[i] = (r[i] + 1) % 2 c[j] = (c[j] + 1) % 2\n\n# # print(r) # print(c)\n\n# a_sort = [] for i in range(n): for j in range(m): a_sort.append(a[i][j]) a_sort = sorted(a_sort)\n# # print(a_sort)\n\n# for i in range(n): for j in range(m): if a[i][j] != a_sort[i * m + j]: print(\"NO\") exit()\n\n# print(\"YES\") print(\"\".join(map(str, r))) print(\"\".join(map(str, c)))\n\nn, m = map(int, input().split())\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\nr = []\nc = []\nfor i in range(n):\n    r.append(0)\nfor j in range(m):\n    c.append(0)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 0:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] == 1:\n            r[i] = (r[i] + 1) % 2\n            c[j] = (c[j] + 1) % 2\n\na_sort = []\nfor i in range(n):\n    for j in range(m):\n        a_sort.append(a[i][j])\na_sort = sorted(a_sort)\n\nfor i in range(n):\n    for j in range(m):\n        if a[i][j] != a_sort[i * m + j]:\n            print(\"NO\")\n            exit()\n\nprint(\"YES\")\nprint(\"\".join(map(str, r)))\nprint(\"\".join(map(str, c)))\n", "\n\n# from collections import *\n\nn, m = map(int, input().split())\nm = [int(i) for i in input().split()]\n\n# if a row is sorted, mark it as \"good\"\n# if a row is not sorted, mark it as \"bad\"\n# if a column has 0s, mark it as \"bad\"\n# if a column has 1s, mark it as \"good\"\n# if a column has both 0s and 1s, mark it as \"bad\"\n\n# after finding all the good and bad rows and columns,\n# we can do the following:\n# if there are more than 1 \"good\" row,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"good\" column,\n# we can invert any of them to make it \"bad\"\n# if there are more than 1 \"bad\" row and\n# more than 1 \"bad\" column, we cannot sort the matrix\n# if there are more than 1 \"bad\" row and 0 \"bad\" column,\n# we can invert any of the \"bad\" rows to make it \"good\"\n# if there are more than 1 \"bad\" column and 0 \"bad\" row,\n# we can invert any of the \"bad\" columns to make it \"good\"\n# if there is 1 \"bad\" row and 1 \"bad\" column,\n# we can invert any 1 of them to make it \"good\"\n\ngood_rows = []\ngood_cols = []\nbad_rows = []\nbad_cols = []\n\nfor i in range(n):\n    if all(m[i]):\n        good_rows.append(i)\n    elif not any(m[i]):\n        bad_rows.append(i)\n\nfor j in range(n):\n    if not any(m[i][j] for i in range(n)):\n        bad_cols.append(j)\n    elif all(m[i][j] for i in range(n)):\n        good_cols.append(j)\n\nif len(good_rows) > 1 or len(good_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelif len(bad_rows) > 1 and len(bad_cols) > 1:\n    print(\"NO\")\nelif len(bad_rows) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelif len(bad_cols) > 1:\n    print(\"YES\")\n    print(\"0\" * m)\n    print(\"0\" * n)\nelse:\n    print(\"YES\")\n    print(\"0\" * n)\n    print(\"0\" * m)\n", "\nimport sys\n\ndef main():\n    n, m = [int(x) for x in input().split()]\n\n    a = []\n    for i in range(n):\n        a.append([int(x) for x in input().split()])\n\n    r = [0]*n\n    c = [0]*m\n\n    for i in range(n):\n        zero = 0\n        one = 0\n        for j in range(m):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            r[i] = 1\n\n    for j in range(m):\n        zero = 0\n        one = 0\n        for i in range(n):\n            if a[i][j] == 0:\n                zero += 1\n            else:\n                one += 1\n        if zero > one:\n            c[j] = 1\n\n    for i in range(n):\n        for j in range(m):\n            if r[i] == 1:\n                a[i][j] = 1 - a[i][j]\n            if c[j] == 1:\n                a[i][j] = 1 - a[i][j]\n\n    sorted = True\n    for i in range(n):\n        for j in range(m-1):\n            if a[i][j] > a[i][j+1]:\n                sorted = False\n\n    if sorted:\n        print(\"YES\")\n        print(\"\".join([str(x) for x in r]), end='')\n        print(\"\".join([str(x) for x in c]), end='')\n    else:\n        print(\"NO\")\n\nif __name__ == '__main__':\n    main()\n"]