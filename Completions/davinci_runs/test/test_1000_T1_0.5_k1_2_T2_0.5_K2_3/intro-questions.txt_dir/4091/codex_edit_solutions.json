["\ndef main():\n    n,k = map(int,input().split())\n    a = list(map(int,input().split()))\n    dp = [0]*(n+1)\n    for i in range(0,n):\n        dp[i+1] = max(dp[i],a[i])\n    ans = 0\n    for i in range(k,n+1):\n        ans += dp[i-k]\n    print(ans)\n    i = 0\n    while i < n:\n        j = i+k\n        if j > n:\n            j = n\n        while j > i and dp[i] == dp[j]:\n            j -= 1\n        print(j-i,end=\" \")\n        i = j\n    print()\n\nmain()\n", "def main():\n    n, k = map(int, input().split())\n    a = list(map(int, input().split()))\n    dp = [0] * (n + 1)\n    for i in range(1, n + 1):\n        dp[i] = max(dp[i - 1], a[i - 1])\n    ans = 0\n    for i in range(k, n + 1):\n        ans += dp[i - k]\n    print(ans)\n    i = 0\n    while i < n:\n        j = i + k\n        if j >= n:\n            j = n\n        while j > i and dp[i] == dp[j]:\n            j -= 1\n        print(j - i, end=\" \")\n        i = j\n    print()\n\nmain()\n", "\n\ndef main():\n    n,k = map(int,input().split())\n    a = list(map(int,input().split()))\n    dp = [0]*(n+1) #dp[i]: max value from a[0] to a[i-1]\n    for i in range(1,n+1):\n        dp[i] = max(dp[i-1],a[i-1])\n    # sum of max value in every k-length subarray in a\n    ans = 0\n    for i in range(k,n+1):\n        ans += dp[i-k]\n    print(ans)\n    i = 0\n    while i < n:\n        # if j exceed the length of array a\n        j = i+k\n        if j > n:\n            j = n\n        while j > i and dp[i] == dp[j]:\n            j -= 1\n        print(j-i,end=\" \")\n        i = j\n    print()\n\nmain()\n", "\ndef main():\n    n,k = map(int,input().split())\n    a = list(map(int,input().split()))\n    dp = [0]*(n+1)\n    for i in range(1,n+1):\n        dp[i] = max(dp[i-1],a[i-1])\n    ans = 0\n    for i in range(k,n+1):\n        ans += dp[i-k]\n    print(ans)\n    # i = 0\n    # while i < n:\n    #     j = i+k\n    #     if j > n:\n    #         j = n\n    #     while j > i and dp[i] == dp[j]:\n    #         j -= 1\n    #     print(j-i,end=\" \")\n    #     i = j\n    # print()\n\nmain()\n", "\n\ndef main():\n    n,k = map(int,input().split())\n    a = list(map(int,input().split()))\n    dp = [0]*(n+1) # dp[i]: max value from a[0] to a[i-1]\n    for i in range(1,n+1):\n        dp[i] = max(dp[i-1],a[i-1])\n    # sum of max values in every k-length subarray\n    ans = 0\n    for i in range(k,n+1):\n        ans += dp[i-k]\n    print(ans)\n    i = 0\n    while i < n:\n        # if j exceed the length of array a\n        j = i+k\n        if j > n:\n            j = n\n        while j > i and dp[i] == dp[j]:\n            j -= 1\n        print(j-i,end=\" \")\n        i = j\n    print()\n\nmain()\n", "\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        n,k = map(int,input().split())\n        a = list(map(int,input().split()))\n        dp = [0]*(n+1)\n        for i in range(1,n+1):\n            dp[i] = max(dp[i-1],a[i-1])\n        ans = 0\n        for i in range(k,n+1):\n            ans += dp[i-k]\n        print(ans)\n        i = 0\n        while i < n:\n            j = i+k\n            if j > n:\n                j = n\n            while j > i and dp[i] == dp[j]:\n                j -= 1\n            print(j-i,end=\"\")\n            if i < n:\n                print(\" \",end=\"\")\n            i = j\n        print()\n\nmain()\n", "\nn, k = map(int, input().split())\na = list(map(int, input().split()))\n\n# dp[i][j] = max profit for i problems in j days (i <= n, j <= k)\ndp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n\n# dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:]), ..., dp[i - k][j - 1] + max(a[i - k:]))\n# dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:]) for l in range(1, min(k, i) + 1))\n\nfor i in range(1, n + 1):\n    for j in range(1, k + 1):\n        dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n\nprint(dp[n][k])\n\ni, j = n, k\nans = []\nwhile j > 0:\n    for l in range(1, min(k, i) + 1):\n        if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n            ans.append(l)\n            i -= l\n            j -= 1\n            break\n\nprint(*ans[::-1])\n", "\nn, k = map(int, input().split())\na = list(map(int, input().split()))\n\n# dp[i][j] = max profit for i problems in j days\ndp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n\n# dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:]), ...,\n#                dp[i - k][j - 1] + max(a[i - k:]))\n# dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:]) for l in range(1, min(k, i) + 1))\n\nfor i in range(1, n + 1):\n    for j in range(1, k + 1):\n        dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i])\n                       for l in range(1, min(k, i) + 1))\n\nprint(dp[n][k])\n\ni, j = n, k\nans = []\nwhile j > 0:\n    for l in range(1, min(k, i) + 1):\n        if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n            ans.append(l)\n            i -= l\n            j -= 1\n            break\n\nprint(*ans[::-1])\n", "\n\ndef main():\n    n,k = map(int,input().split())\n    a = list(map(int,input().split()))\n    dp = [0]*(n+1) #dp[i]: max value from a[0] to a[i-1] inclusive\n    for i in range(1,n+1):\n        dp[i] = max(dp[i-1],a[i-1])\n    # sum of max value in every k-length subarray\n    ans = 0\n    for i in range(k,n+1):\n        ans += dp[i-k]\n    print(ans)\n    i = 0\n    while i < n:\n        # if j exceed the length of array a\n        j = i+k\n        if j > n:\n            j = n\n        while j > i and dp[i] == dp[j]:\n            j -= 1\n        print(j-i,end=\" \")\n        i = j\n    print()\n\nmain()\n", "\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        n,k = map(int,input().split())\n        a = list(map(int,input().split()))\n        dp = [0]*(n+1)\n        for i in range(1,n+1):\n            dp[i] = max(dp[i-1],a[i-1])\n        ans = 0\n        for i in range(k,n+1):\n            ans += dp[i-k]\n        print(ans)\n        # i = 0\n        # while i < n:\n        #     j = i+k\n        #     if j > n:\n        #         j = n\n        #     while j > i and dp[i] == dp[j]:\n        #         j -= 1\n        #     print(j-i,end=\" \")\n        #     i = j\n        print()\n\nmain()\n", "\n\nn, k = map(int, input().split())\na = list(map(int, input().split()))\n\n# dp[i][j] = max profit for i problems in j days.\ndp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n\n# dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:])...dp[i - k][j - 1] + max(a[i - k:])).\n# dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, k + 1)).\n\nfor i in range(1, n + 1):\n    for j in range(1, k + 1):\n        if i < j:\n            continue\n        dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n\nprint(dp[n][k])\n\ni, j = n, k\nans = []\nwhile j > 0:\n    for l in range(1, min(k, i) + 1):\n        if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n            ans.append(l)\n            i -= l\n            j -= 1\n            break\n\nprint(*ans[::-1])\n", "\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        n,k = map(int,input().split())\n        a = list(map(int,input().split()))\n        dp = [0]*(n+2)\n        for i in range(1,n+1):\n            dp[i] = max(dp[i-1],a[i-1])\n        ans = 0\n        for i in range(k,n+2):\n            ans += dp[i-k]\n        print(ans)\n        i = 0\n        while i < n:\n            j = i+k\n            if j > n:\n                j = n\n            while j > i and dp[i] == dp[j]:\n                j -= 1\n            print(j-i,end=\" \")\n            i = j\n        print()\n\nmain()\n", "\nn, k = map(int, input().split())\na = list(map(int, input().split()))\n\n# dp[i][j] = max profit for i problems in j days\ndp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n\n# dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:])...dp[i - k][j - 1] + max(a[i - k:]))\n# dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:]) for l in range(1, k + 1))\n\nfor i in range(1, n + 1):\n    for j in range(1, k + 1):\n        dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n\nprint(dp[-1][-1])\n\ni, j = n, k\nans = []\nwhile j > 0:\n    for l in range(1, min(k, i) + 1):\n        if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n            ans.append(l)\n            i -= l\n            j -= 1\n            break\n\nprint(*ans[::-1])\n", "import sys\n# sys.stdin = open(\"input.txt\", \"r\")\n# sys.stdout = open(\"output.txt\", \"w\")\n# sys.stderr = open(\"error.txt\", \"w\")\n", "\n\nn, k = map(int, input().split())\na = list(map(int, input().split()))\n\n# dp[i][j] = max profit for i problems in j days.\ndp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n\n# dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:])...dp[i - k][j - 1] + max(a[i - k:])).\n# dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:]) for l in range(1, k + 1)).\n\nfor i in range(1, n + 1):\n    for j in range(1, k + 1):\n        if i < j:\n            continue\n        dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n\nprint(dp[n][k])\nprint()\ni, j = n, k\nans = []\nwhile j > 0:\n    for l in range(1, min(k, i) + 1):\n        if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n            ans.append(l)\n            i -= l\n            j -= 1\n            break\n\nprint(*ans[::-1])\n", "#\n# # n, k = map(int, input().split())\n# # a = list(map(int, input().split()))\n# #\n# # # dp[i][j] = max profit for i problems in j days\n# # dp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n# #\n# # # dp[i][j] = max(dp[i - 1][j - 1] + max(a[i - 1:]), dp[i - 2][j - 1] + max(a[i - 2:])...dp[i - k][j - 1] + max(a[i - k:]))\n# # # dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:]) for l in range(1, k + 1))\n# #\n# # for i in range(1, n + 1):\n# #     for j in range(1, k + 1):\n# #         if i < j:\n# #             continue\n# #         dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n# #\n# # print(dp[n][k])\n# #\n# # i, j = n, k\n# # ans = []\n# # while j > 0:\n# #     for l in range(1, min(k, i) + 1):\n# #         if dp[i][j] == dp[i - l][j - 1] + max(a[i - l:i]):\n# #             ans.append(l)\n# #             i -= l\n# #             j -= 1\n# #             break\n# #\n# # print(*ans[::-1])\n#\n# n, k = map(int, input().split())\n# a = list(map(int, input().split()))\n#\n# dp = [[0 for _ in range(k + 1)] for _ in range(n + 1)]\n#\n# for i in range(1, n + 1):\n#     for j in range(1, k + 1):\n#         dp[i][j] = max(dp[i - l][j - 1] + max(a[i - l:i]) for l in range(1, min(k, i) + 1))\n#\n# print(dp[-1][-1])\n#\n# s = \"a b c d e f g h i j k l m n o p q r s t u v w x y z\"\n# t = \"a b c d e f g h i j k l m n o p q r s t u v w x y z\"\n#\n# print(s < t)\n"]