["\ndef main():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    a.sort()\n    if n % 2 == 0:\n        if a[0] == a[n**2//2-1] and a[n**2//2] == a[n**2-1]:\n            print(\"YES\")\n            for i in range(n):\n                print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n        else:\n            print(\"NO\")\n    else:\n        if a[0] == a[(n//2)*(n+1)-1]:\n            print(\"YES\")\n            for i in range(n):\n                if i < n//2:\n                    print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n                elif i == n//2:\n                    print(a[(n//2)*(n+1)-1])\n                else:\n                    print(\" \".join([str(x) for x in a[i*n:i*n+n//2][::-1]]), end=\" \")\n                    print(a[(n//2)*(n+1)-1])\n        else:\n            print(\"NO\")\n\nmain()\n", "\n\nn = int(input())\nnumbers = list(map(int, input().split()))\n\nif n == 1:\n    print('YES')\n    print(numbers[0])\n    exit()\n\nif len(numbers) != n ** 2:\n    print('NO')\n    exit()\n\nnumbers.sort()\n\nif numbers[0] != numbers[n - 1] or numbers[n - 1] != numbers[2 * n - 2] or numbers[2 * n - 2] != numbers[3 * n - 3]:\n    print('NO')\n    exit()\n\nif len(set(numbers)) == 1:\n    print('YES')\n    for i in range(n):\n        for j in range(n):\n            print(numbers[0], end=' ')\n        print()\n    exit()\n\nmatrix = [[0 for j in range(n)] for i in range(n)]\n\nfor i in range(n):\n    matrix[i][i] = numbers[i]\n    matrix[i][n - 1 - i] = numbers[i]\n\nif n % 2 == 1:\n    for i in range(n // 2 + 1, n):\n        for j in range(n // 2 + 1, n):\n            matrix[i][j] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1]\n            matrix[n - 1 - i][n - 1 - j] = matrix[i][j]\n            matrix[i][n - 1 - j] = matrix[n - 1 - i][j] = matrix[j][i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n            matrix[n - 1 - i][j] = matrix[j][n - 1 - i] = matrix[n - 1 - j][i] = matrix[n - 1 - j][n - 1 - i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n\nfor i in range(n):\n    for j in range(n):\n        if matrix[i][j] == 0:\n            print('NO')\n            exit()\n\nif len(set([item for sublist in matrix for item in sublist])) != len(numbers):\n    print('NO')\n    exit()\n\nprint('YES')\nprint('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n", "\n\nn = int(input())\nnumbers = list(map(int, input().split()))\n\nif n == 1:\n    print('YES')\n    print(numbers[0])\n    exit()\n\nif len(numbers) != n ** 2:\n    print('NO')\n    exit()\n\nnumbers.sort()\n\nif numbers[0] != numbers[n - 1] or numbers[n - 1] != numbers[2 * n - 2] or numbers[2 * n - 2] != numbers[3 * n - 3]:\n    print('NO')\n    exit()\n\nif len(set(numbers)) == 1:\n    print('YES')\n    for i in range(n):\n        for j in range(n):\n            print(numbers[0], end=' ')\n        print()\n    exit()\n\nmatrix = [[0 for j in range(n)] for i in range(n)]\n\nfor i in range(n):\n    matrix[i][i] = numbers[i]\n    matrix[i][n - 1 - i] = numbers[i]\n\nif n % 2 == 1:\n    for i in range(n // 2 + 1, n):\n        for j in range(n // 2 + 1, n):\n            matrix[i][j] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1]\n            matrix[n - 1 - i][n - 1 - j] = matrix[i][j]\n            matrix[i][n - 1 - j] = matrix[n - 1 - i][j] = matrix[j][i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n            matrix[n - 1 - i][j] = matrix[j][n - 1 - i] = matrix[n - 1 - j][i] = matrix[n - 1 - j][n - 1 - i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n\nprint('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n\nfor i in range(n):\n    for j in range(n):\n        if matrix[i][j] == 0:\n            print('NO')\n            exit()\n\nif len(set([item for sublist in matrix for item in sublist])) != len(numbers):\n    print('NO')\n    exit()\n\nprint('YES')\nprint('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n", "\n\nn = int(input())\nnumbers = list(map(int, input().split()))\n\nif n == 1:\n    print('YES') \n    print(numbers[0])\n    exit()\n\nif len(numbers) != n ** 2:\n    print('NO')\n    exit()\n\nnumbers.sort()\n\nif numbers[0] != numbers[n - 1] or numbers[n - 1] != numbers[2 * n - 2] or numbers[2 * n - 2] != numbers[3 * n - 3]:\n    print('NO')\n    exit()\n\nif len(set(numbers)) == 1:\n    print('YES')\n    for i in range(n):\n        for j in range(n):\n            print(numbers[0], end=' ')\n        print()\n    exit()\n\nmatrix = [[0 for j in range(n)] for i in range(n)]\n\nfor i in range(n):\n    matrix[i][i] = numbers[i]\n    matrix[i][n - 1 - i] = numbers[i]\n\nif n % 2 == 1:\n    for i in range(n // 2 + 1, n):\n        for j in range(n // 2 + 1, n):\n            matrix[i][j] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1]\n            matrix[n - 1 - i][n - 1 - j] = matrix[i][j]\n            matrix[i][n - 1 - j] = matrix[n - 1 - i][j] = matrix[j][i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n            matrix[n - 1 - i][j] = matrix[j][n - 1 - i] = matrix[n - 1 - j][i] = matrix[n - 1 - j][n - 1 - i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n\n# print('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n\nfor i in range(n):\n    for j in range(n):\n        if matrix[i][j] == 0:\n            print('NO')\n            exit()\n\nif len(set([item for sublist in matrix for item in sublist])) != len(numbers):\n    print('NO')\n    exit()\n\nprint('YES')\nprint('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n", "\ndef main():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    a.sort(reverse=True)\n    if n % 2 == 0:\n        if a[0] == a[n**2//2-1]:\n            print(\"YES\")\n            for i in range(n):\n                print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n        else:\n            print(\"NO\")\n    else:\n        if a[0] == a[(n//2)*(n+1)-1]:\n            print(\"YES\")\n            for i in range(n):\n                if i < n//2:\n                    print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n                elif i == n//2:\n                    print(a[(n//2)*(n+1)-1])\n                else:\n                    print(\" \".join([str(x) for x in a[i*n:i*n+n//2][::-1]]), end=\" \")\n                    print(\" \".join([str(x) for x in a[i*n+n//2:i*n+n]]))\n        else:\n            print(\"NO\")\n\nmain()\n", "\ndef main():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    a.sort()\n    if n % 2 == 0:\n        if a[0] == a[n**2//2-1]:\n            print(\"YES\")\n            for i in range(n):\n                print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n        else:\n            print(\"NO\")\n    else:\n        if a[0] == a[(n//2)*(n+1)-1]:\n            print(\"YES\")\n            for i in range(n):\n                if i < n//2:\n                    print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n                elif i == n//2:\n                    print(a[(n//2)*(n+1)-1])\n                else:\n                    print(\" \".join([str(x) for x in a[i*n:i*n+n//2][::-1]]), end=\"\")\n        else:\n            print(\"NO\")\n\nmain()\n", "\nn = int(input())\nnumbers = list(map(int, input().split()))\n\nif n == 1:\n    print('YES')\n    print(numbers[0])\n    exit()\n\nif len(numbers) != n ** 2:\n    print('NO')\n    exit()\n\nnumbers.sort()\n\nif numbers[0] != numbers[n - 1] or numbers[n - 1] != numbers[2 * n - 2] or numbers[2 * n - 2] != numbers[3 * n - 3]:\n    print('NO')\n    exit()\n\nif len(set(numbers)) == 1:\n    print('YES')\n    for i in range(n):\n        for j in range(n):\n            print(numbers[0], end=' ')\n        print()\n    exit()\n\nmatrix = [[0 for j in range(n)] for i in range(n)]\n\nfor i in range(n):\n    matrix[i][i] = numbers[i]\n    matrix[i][n - 1 - i] = numbers[i]\n\nif n % 2 == 1:\n    for i in range(n // 2 + 1, n):\n        for j in range(n // 2 + 1, n):\n            matrix[i][j] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1]\n            matrix[n - 1 - i][n - 1 - j] = matrix[i][j]\n            matrix[i][n - 1 - j] = matrix[n - 1 - i][j] = matrix[j][i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n            matrix[n - 1 - i][j] = matrix[j][n - 1 - i] = matrix[n - 1 - j][i] = matrix[n - 1 - j][n - 1 - i] = numbers[n + i - n // 2 - 1 + j - n // 2 - 1 + n // 2]\n\n# print('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n\nfor i in range(n):\n    for j in range(n):\n        if matrix[i][j] == 0:\n            print('NO')\n            exit()\n\nif len(set([item for sublist in matrix for item in sublist])) != len(numbers):\n    print('NO')\n    exit()\n\nprint('YES')\nprint('\\n'.join([' '.join([str(i) for i in row]) for row in matrix]))\n", "\ndef main():\n    n = int(input())\n    a = [int(x) for x in input().split()]\n    a.sort(reverse=True)\n    if n % 2 == 0:\n        if a[0] == a[n**2//2]:\n            print(\"YES\")\n            for i in range(n):\n                print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n        else:\n            print(\"NO\")\n    else:\n        if a[0] == a[(n//2)*(n+1)]:\n            print(\"YES\")\n            for i in range(n):\n                if i < n//2:\n                    print(\" \".join([str(x) for x in a[i*n:(i+1)*n]]))\n                elif i == n//2:\n                    print(a[(n//2)*(n+1)])\n                else:\n                    print(\" \".join([str(x) for x in a[i*n:i*n+n//2][::-1]]))\n                    print(\" \".join([str(x) for x in a[i*n+n//2:i*n+n][::-1]]))\n        else:\n            print(\"NO\")\n\nmain()\n"]