["\nimport sys\n\ndef main():\n    n, m, q = map(int, sys.stdin.readline().split())\n    a = [0] * (n + 1)\n    for _ in range(q):\n        ai, bi, ci, di = map(int, sys.stdin.readline().split())\n        a[ai] += ci\n        a[bi] -= ci\n    for i in range(1, n + 1):\n        a[i] += a[i - 1]\n    print(max(a))\n\nif __name__ == '__main__':\n    main()\n", "\nimport sys\n\ndef main():\n    n, m, q = map(int, sys.stdin.readline().split())\n    a = [0] * (n + 1)\n    for _ in range(q):\n        ai, bi, ci, di = map(int, sys.stdin.readline().split())\n        a[ai] += di\n        a[bi] -= di\n    for i in range(1, n + 1):\n        a[i] += a[i - 1]\n    print(max(a))\n\nif __name__ == '__main__':\n    main()\n", "\n# \u5165\u529b\nN, M, Q = map(int, input().split())\nabcd = [list(map(int, input().split())) for i in range(Q)]\n\n# \u5168\u63a2\u7d22\nans = 0\nfor i in range(2 ** N):\n    # \u5404\u6841\u30671\u304c\u7acb\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\n    A = [0] * N\n    for j in range(N):\n        if (i >> j) & 1:\n            A[j] = 1\n\n    # \u5404\u30af\u30a8\u30ea\u306b\u3064\u3044\u3066\u78ba\u8a8d\n    score = 0\n    for a, b, c, d in abcd:\n        a -= 1\n        b -= 1\n        if A[b] - A[a] == c:\n            score += d\n    ans = max(ans, score)\n\n# \u51fa\u529b\nprint(ans)\n", "\n\n\n# \u5165\u529b\nN, M, Q = map(int, input().split())\nabcd = [list(map(int, input().split())) for i in range(Q)]\n\n# \u5168\u63a2\u7d22\nans = 0\nfor i in range(2 ** N):\n    # \u5404\u6841\u30671\u304c\u7acb\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\n    A = [0] * N\n    for j in range(N):\n        if (i >> j) & 1:\n            A[j] = 1\n\n    # \u5404\u30af\u30a8\u30ea\u306b\u3064\u3044\u3066\u78ba\u8a8d\n    score = 0\n    for a, b, c, d in abcd:\n        a -= 1\n        b -= 1\n        if A[b] - A[a] == c:\n            score += d\n    ans = max(ans, score)\n\n# \u51fa\u529b\nprint(ans)\n"]