["\nS_A = input().strip()\nS_B = input().strip()\nS_C = input().strip()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '' and S_A+S_B+S_C != '   ' :\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '' or player == ' ':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '' or player == ' ':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '' or player == ' ':\n            player = 'C'\n            break\n\nprint(player)\n", "\nS_A = input().strip()\nS_B = input().strip()\nS_C = input().strip()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '' and S_A+S_B+S_C != '   ' and S_A+S_B+S_C != '  ':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '' or player == ' ':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '' or player == ' ':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '' or player == ' ':\n            player = 'C'\n            break\n\nprint(player)\n", "import sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip() # A\u306e\u624b\u756a\n    sb = sys.stdin.readline().rstrip() # B\u306e\u624b\u756a\n    sc = sys.stdin.readline().rstrip() # C\u306e\u624b\u756a\n\n    turn = \"a\"\n    while True:\n        if turn == \"a\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"b\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"c\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == '__main__':\n    main()\n", "import sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip()\n    sb = sys.stdin.readline().rstrip()\n    sc = sys.stdin.readline().rstrip()\n\n    turn = \"A\"\n    while True:\n        if turn == \"A\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"B\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"C\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == '__main__':\n    main()\n", "\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A + S_B + S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n"]