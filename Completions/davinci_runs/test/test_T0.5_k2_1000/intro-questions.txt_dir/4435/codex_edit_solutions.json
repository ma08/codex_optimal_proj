["import queue\n\nn = int(input())\na = list(map(int, input().split()))\nq = queue.Queue()\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\nvisited = [False] * n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:\n        q.put((curr + a[curr], dist + 1))\n    dist = dist + 1\nfor i in range(n):\n    if a[i] % 2 == 0:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n    else:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n", "#!/usr/bin/python\n# -*- coding: utf-8 -*-\n", "\n# https://codeforces.com/contest/1325/problem/B\nimport queue\n\nn = int(input())\na = list(map(int, input().split()))\n\nq = queue.Queue()\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))  # (index, distance)\n\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\n\nvisited = [False] * n\n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:  # if index is not out of bounds\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:  # if index is not out of bounds\n        q.put((curr + a[curr], dist + 1))\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        if visited[i]:\n            print(dist)  # print distance\n        else:\n            print(-1)  # print -1 if not visited\n    else:\n        if visited[i]:\n            print(dist)  # print distance\n        else:\n            print(-1)  # print -1 if not visited\n", "import queue\n\nn = int(input())\na = list(map(int, input().split()))\n\nq = queue.Queue()\n\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))\n\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\n\nvisited = [False] * n\n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:\n        q.put((curr + a[curr], dist + 1))\n\nfor i in range(n):\n    if visited[i]:\n        print(dist)\n    else:\n        print(-1)\n", "\n\n# SOLUTION\n\n#!/usr/bin/env python\n\nn = int(raw_input())\na = list(map(int, raw_input().split()))\n\nd = [0] * n\n\nfor i in range(n - 1, -1, -1):\n    if i + a[i] < n:\n        d[i] = d[i + a[i]] + 1\n    if i - a[i] >= 0:\n        d[i] = min(d[i], d[i - a[i]] + 1)\n    if d[i] == 0:\n        d[i] = -1\n\nprint(*d)\n", "\n#!/usr/bin/env python2\n\nn = int(input())\na = list(map(int, input().split()))\n\nd = [0] * n\n\nfor i in range(n - 1, -1, -1):\n    if i + a[i] < n and i - a[i] >= 0:\n        d[i] = min(d[i + a[i]] + 1, d[i - a[i]] + 1)\n    elif i + a[i] < n:\n        d[i] = d[i + a[i]] + 1\n    elif i - a[i] >= 0:\n        d[i] = d[i - a[i]] + 1\n    else:\n        d[i] = -1\n\nprint(*d)\n", "import queue\n\nn = int(input())\na = list(map(int, input().split()))\nq = queue.Queue()\nfor i in range(n):\n    if a[i] % 2 == 0:\n        q.put((i, 0))\nfor i in range(n):\n    if a[i] % 2 == 1:\n        q.put((i, 0))\nvisited = [False] * n\nwhile not q.empty():\n    curr, dist = q.get()\n    if visited[curr]:\n        continue\n    visited[curr] = True\n    if curr - a[curr] >= 0:\n        q.put((curr - a[curr], dist + 1))\n    if curr + a[curr] < n:\n        q.put((curr + a[curr], dist + 1))\ndist = 0\nfor i in range(n):\n    if a[i] % 2 == 0:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n    else:\n        if visited[i]:\n            print(dist)\n        else:\n            print(-1)\n", "\n\n# SOLUTION\n"]