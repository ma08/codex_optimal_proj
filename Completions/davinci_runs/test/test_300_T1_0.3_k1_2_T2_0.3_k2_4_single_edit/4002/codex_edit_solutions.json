["# https://www.acmicpc.net/problem/17779\n\nn, m, k = map(int, input().split())\n\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\ndp = [[0] * (m + 1) for i in range(n + 1)]\n\nfor i in range(1, n + 1):\n    for j in range(1, m + 1):\n        if j <= m // 2:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j], dp[i - 1][j - 1] + a[i - 1][j - 1])\n        else:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j])\n\nprint(dp[n][m - m // 2])\n", "\n\ndef main():\n    n, m, k = map(int, input().split())\n    a = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    dp = [[0] * (k + 1) for i in range(m + 1)]\n    for i in range(1, n + 1):\n        for j in range(1, m + 1):\n            for x in range(k + 1):\n                dp[j][(x + a[i - 1][j - 1]) % k] = max(dp[j][(x + a[i - 1][j - 1]) % k], dp[j - 1][x] + a[i - 1][j - 1])\n    print(dp[m][0])\n\nmain()\n", "\ndef main():\n    n, m, k = map(int, input().split())\n    a = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    dp = [[0] * (k + 1) for _ in range(m + 1)]\n    for i in range(n):\n        for j in range(m):\n            for x in range(k):\n                dp[j + 1][(x + a[i][j]) % k] = max(dp[j + 1][(x + a[i][j]) % k], dp[j][x] + a[i][j])\n    print(dp[m][0])\n\nmain()\n", "# https://www.acmicpc.net/problem/17087\n\nn, m, k = map(int, input().split())\n\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\ndp = [[0] * (m + 1) for i in range(n + 1)]\n\nfor i in range(1, n + 1):\n    for j in range(1, m + 1):\n        if j <= m // 2:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j], dp[i - 1][j - 1] + a[i - 1][j - 1])\n        else:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j])\n\nprint(dp[n][m - m // 2])\n", "\n\ndef main():\n    n, m, k = map(int, input().split())\n    a = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    dp = [[0] * (k + 1) for _ in range(m + 1)]\n    for i in range(n):\n        for j in range(m):\n            for x in range(k):\n                dp[j + 1][(x + a[i][j]) % k] = max(dp[j + 1][(x + a[i][j]) % k], dp[j][x] + a[i][j])\n    print(dp[m][0])\n\nmain()\n", "\nn, m, k = map(int, input().split())\n\na = []\nfor i in range(n):\n    a.append(list(map(int, input().split())))\n\ndp = [[0] * (m + 1) for i in range(n + 1)]\n\nfor i in range(1, n + 1):\n    for j in range(1, m + 1):\n        if j <= m // 2:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j], dp[i - 1][j - 1] + a[i - 1][j - 1])\n        else:\n            dp[i][j] = max(dp[i][j - 1], dp[i - 1][j])\n\nprint(dp[n][m - m // 2])\n", "\n\ndef main():\n    n, m, k = map(int, input().split())\n    a = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    dp = [[0] * (k + 1) for _ in range(m + 1)]\n    for i in range(n):\n        for j in range(m):\n            for x in range(k):\n                dp[j + 1][(x + a[i][j]) % k] = max(dp[j + 1][(x + a[i][j]) % k], dp[j][x] + a[i][j])\n    print(dp[m][0])\n\nif __name__ == '__main__':\n    main()\n"]