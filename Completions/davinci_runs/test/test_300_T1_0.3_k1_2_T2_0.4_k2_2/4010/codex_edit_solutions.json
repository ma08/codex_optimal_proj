["\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    d = {}\n    for i in range(n):\n        if a[i] in d:\n            d[a[i]].append(i)\n        else:\n            d[a[i]] = [i]\n    flag = False\n    for i in d:\n        if len(d[i]) > 2:\n            for j in range(len(d[i])-2):\n                if d[i][j+2] - d[i][j] > 1:\n                    flag = True\n                    break\n            if flag:\n                break\n    if flag:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n", "\n", "\n# Solution\n\n# cook your dish here\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int,input().split()))\n    flag = 0\n    for i in range(n-2):\n        if a[i] == a[i+1] and a[i] == a[i+2]:\n            flag = 1\n            break\n    if flag == 1:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n", "#!/usr/bin/env python3\n\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    d = {}\n    for i in range(n):\n        if a[i] in d:\n            d[a[i]].append(i)\n        else:\n            d[a[i]] = [i]\n    flag = False\n    for i in d:\n        if len(d[i]) > 2:\n            for j in range(len(d[i])-2):\n                if d[i][j+2] - d[i][j] > 1:\n                    flag = True\n                    break\n            if flag:\n                break\n    if flag:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n"]