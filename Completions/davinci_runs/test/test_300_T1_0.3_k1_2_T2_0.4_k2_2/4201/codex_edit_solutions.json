["import sys\n\ndef main():\n    h, w, k = map(int, input().split())\n    c = [list(input()) for _ in range(h)]\n    ans = 0\n    for i in range(2**h):\n        for j in range(2**w):\n            num = 0\n            for x in range(h):\n                for y in range(w):\n                    if ((i >> x) & 1) == 0 and ((j >> y) & 1) == 0 and c[x][y] == '#':\n                        num += 1\n            if num == k:\n                ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()\n", "\nimport sys\n\ndef main():\n    h, w, k = map(int, sys.stdin.readline().split())\n    grid = []\n    for i in range(h):\n        grid.append(sys.stdin.readline().strip())\n    count = 0\n    for i in range(1 << h):\n        for j in range(1 << w):\n            cnt = 0\n            for r in range(h):\n                for c in range(w):\n                    if (i >> r) & 1 == 1:\n                        cnt += 1\n                    elif (j >> c) & 1 == 1:\n                        cnt += 1\n                    elif grid[r][c] == '#':\n                        cnt += 1\n            if cnt == k:\n                count += 1\n    print(count)\n\nif __name__ == '__main__':\n    main()\n", "import sys\ndef main():\n    h, w, k = map(int, input().split())\n    c = [list(input()) for _ in range(h)]\n    ans = 0\n    for i in range(2**h):\n        for j in range(2**w):\n            num = 0\n            for x in range(h):\n                for y in range(w):\n                    if ((i >> x) & 1) == 0 and ((j >> y) & 1) == 0 and c[x][y] == '#':\n                        num += 1\n            if num == k:\n                ans += 1\n    print(ans)\nif __name__ == '__main__':\n    main()\n", "\nimport sys\n\ndef main():\n\th, w, k = map(int, sys.stdin.readline().split())\n\tgrid = []\n\tfor i in range(h):\n\t\tgrid.append(sys.stdin.readline().strip())\n\tcount = 0\n\tfor i in range(2**h):\n\t\tfor j in range(2**w):\n\t\t\tcnt = 0\n\t\t\tfor r in range(h):\n\t\t\t\tfor c in range(w):\n\t\t\t\t\tif (i >> r) & 1 == 1:\n\t\t\t\t\t\tcnt += 1\n\t\t\t\t\telif (j >> c) & 1 == 1:\n\t\t\t\t\t\tcnt += 1\n\t\t\t\t\telif grid[r][c] == '#':\n\t\t\t\t\t\tcnt += 1\n\t\t\tif cnt == k:\n\t\t\t\tcount += 1\n\tprint(count)\n\nif __name__ == '__main__':\n\tmain()\n"]