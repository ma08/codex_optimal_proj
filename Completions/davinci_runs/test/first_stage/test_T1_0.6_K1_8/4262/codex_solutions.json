["\n\nn = int(input())\np = list(map(int, input().split()))\nq = list(map(int, input().split()))\n\n# \u914d\u5217\u3092\u4f5c\u6210\narr = []\nfor i in range(n):\n    arr.append(i+1)\n\n# \u914d\u5217\u3092\u5909\u63db\ndef trans(arr):\n    res = []\n    for i in range(n):\n        res.append(arr[i] - 1)\n    return res\n\n# p = [0, 1, 2]\n# q = [1, 0, 2]\n\n# \u9806\u5217\u3092\u30ab\u30a6\u30f3\u30c8\ncount = 0\nwhile(True):\n    # print(arr)\n    count += 1\n    if arr == p:\n        a = count\n    elif arr == q:\n        b = count\n    if count == n:\n        break\n    # \u9806\u5217\u3092\u6c42\u3081\u308b\n    i = n - 1\n    while(arr[i-1] >= arr[i]):\n        i -= 1\n    j = n - 1\n    while(arr[i-1] >= arr[j]):\n        j -= 1\n    # print(i, j)\n    arr[i-1], arr[j] = arr[j], arr[i-1]\n    # print(arr)\n    arr[i:] = arr[i:][::-1]\n\nprint(abs(a-b))", "\n\nimport itertools\n\ndef main():\n    N = int(input())\n    P = tuple(map(int, input().split()))\n    Q = tuple(map(int, input().split()))\n\n    # N! possible permutations\n    permutations = list(itertools.permutations(range(1, N+1)))\n\n    # find a and b\n    a = permutations.index(P)\n    b = permutations.index(Q)\n\n    print(abs(a - b))\n\nmain()", "\n\nN = int(input())\nP = list(map(int, input().split()))\nQ = list(map(int, input().split()))\n\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n - 1)\n\n# permutations of size N\nperm_size_N = factorial(N)\n\n# Find the index of P in the permutations of size N\np_index = 0\nfor i in range(N):\n    perm_size_N_i = perm_size_N // (N - i)\n    p_index += perm_size_N_i * P[i]\n    perm_size_N = perm_size_N_i\n    p_index -= 1\n\n# Find the index of Q in the permutations of size N\nq_index = 0\nfor i in range(N):\n    perm_size_N_i = perm_size_N // (N - i)\n    q_index += perm_size_N_i * Q[i]\n    perm_size_N = perm_size_N_i\n    q_index -= 1\n\nprint(abs(p_index - q_index))", "\n\n# My answer:\nn = int(input())\np = list(map(int, input().split()))\nq = list(map(int, input().split()))\n\ndef fact_perm(n):\n    if n == 0 or n == 1:\n        return 0\n    else:\n        return n*fact_perm(n-1)\n\ndef find_perm_pos(n, p):\n    perm_pos = 0\n    for i in range(n):\n        smaller = 0\n        for j in range(i+1, n):\n            if p[i] > p[j]:\n                smaller += 1\n        perm_pos += (fact_perm(n-i-1) * smaller)\n    return perm_pos\n\ndef main(n, p, q):\n    p_pos = find_perm_pos(n, p)\n    q_pos = find_perm_pos(n, q)\n    return abs(p_pos-q_pos)\n\nprint(main(n, p, q))\n\n# Reference answer:\nimport itertools\n\nN = int(input())\nP = list(map(int, input().split()))\nQ = list(map(int, input().split()))\n\nperm = list(itertools.permutations(range(1, N+1)))\nprint(abs(perm.index(P) - perm.index(Q)))", "\n\ndef factorial(n):\n    return factorial(n-1)*n if n > 1 else 1\n\ndef permutation_to_n(p,n):\n    if n <= 1:\n        return 0\n    i = 0\n    while p[i] != 1:\n        i += 1\n    b = factorial(n-1) * i\n    return b + permutation_to_n(p[:i]+p[i+1:],n-1)\n\ndef main():\n    n = int(input())\n    p = list(map(int,input().split()))\n    q = list(map(int,input().split()))\n    print(abs(permutation_to_n(p,n)-permutation_to_n(q,n)))\n\nif __name__ == '__main__':\n    main()", "\n\ndef main():\n    n = int(input())\n    p = list(map(int,input().split()))\n    q = list(map(int,input().split()))\n    cnt = 0\n    ptup = ()\n    qtup = ()\n    for i in p:\n        ptup += (i,)\n    for j in q:\n        qtup += (j,)\n    perms = list(itertools.permutations(range(1,n+1)))\n    for perm in perms:\n        cnt += 1\n        if perm == ptup:\n            a = cnt\n        if perm == qtup:\n            b = cnt\n    print(abs(a-b))\n\nif __name__ == \"__main__\":\n    main()", "\n\ndef main():\n    import sys\n    N = int(sys.stdin.readline())\n    P = list(map(int, sys.stdin.readline().split()))\n    Q = list(map(int, sys.stdin.readline().split()))\n\n    permutations = []\n    for i in range(N):\n        permutations.append(i+1)\n    permutations = list(set(permutations))\n\n    # find a\n    a = 0\n    for i in range(N):\n        a += permutations.index(P[i]) * factorial(N-1-i)\n        permutations.remove(P[i])\n    a += 1\n\n    # find b\n    permutations = []\n    for i in range(N):\n        permutations.append(i+1)\n    permutations = list(set(permutations))\n    b = 0\n    for i in range(N):\n        b += permutations.index(Q[i]) * factorial(N-1-i)\n        permutations.remove(Q[i])\n    b += 1\n\n    print(abs(a-b))\n\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n-1)\n\nif __name__ == \"__main__\":\n    main()", "\n\nimport itertools\n\nn = int(input())\np = list(map(int, input().split()))\nq = list(map(int, input().split()))\n\npermutations = list(itertools.permutations([i for i in range(1, n+1)]))\n\np_index = permutations.index(tuple(p))\nq_index = permutations.index(tuple(q))\n\nprint(abs(p_index - q_index))"]