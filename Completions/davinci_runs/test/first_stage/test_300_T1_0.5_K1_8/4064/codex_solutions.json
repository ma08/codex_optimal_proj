["\n\nn,h,l,r = map(int,input().split())\na = list(map(int,input().split()))\n\ngood = [0]*n\nfor i in range(n):\n    good[i] = (a[i]+l)//h\n\nans = 0\nfor i in range(n):\n    if good[i] == 0:\n        a[i] -= 1\n        good[i] = (a[i]+l)//h\n    if good[i] == 1:\n        ans += 1\n\nprint(ans)", "\n\ndef check(n, h, l, r, a):\n    good = 0\n    for i in range(1, n):\n        if (a[i] <= r and a[i] >= l):\n            good += 1\n        if (a[i] < r):\n            a[i] += 1\n        else:\n            a[i] -= 1\n    return good\n\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\nprint(check(n, h, l, r, a))", "\n\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\nf = [0] * h\n\nfor i in range(n):\n    for j in range(h):\n        f[j] = max(f[j], f[(j - a[i] + 1) % h])\n    for j in range(l, r + 1):\n        f[j] += 1\n\nprint(max(f))", "\n\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\nd = [0] * h\nfor i in range(n):\n    d[i % h] += 1\n\nans = 0\nfor i in range(l, r + 1):\n    ans = max(ans, d[i])\n\nprint(ans)", "\n\nn, h, l, r = [int(i) for i in input().split()]\na = [int(i) for i in input().split()]\n\ndp = [[0 for i in range(h)] for j in range(n)]\n\ndp[0][a[0] - 1] = 1\ndp[0][a[0] % h] = 1\n\nfor i in range(1, n):\n    for j in range(h):\n        dp[i][j] = max(dp[i - 1][(j + a[i]) % h], dp[i - 1][(j + a[i] - 1) % h])\n\nprint(dp[-1][l] + dp[-1][r])", "\n\nn, h, l, r = map(int, input().split())\na = list(map(int, input().split()))\n\ndp = [0]*h\ndp[0] = 1 if l <= a[0] <= r else 0\nfor i in range(1, n):\n    temp = [0]*h\n    for j in range(h):\n        if j >= a[i]:\n            temp[j] = max(temp[j], dp[j-a[i]])\n        if j >= a[i]-1:\n            temp[j] = max(temp[j], dp[j-a[i]+1])\n    dp = temp\nprint(max(dp))", "\n\n# Solution\n\n#1st solution\nn,h,l,r = map(int,input().split())\na = list(map(int,input().split()))\n\ncnt = 0\nfor i in range(n):\n   if l <= (a[i]-1)%h <= r:\n      cnt += 1\n   elif l <= a[i]%h <= r:\n      cnt += 1\nprint(cnt)\n\n#2nd solution\nn,h,l,r = map(int,input().split())\na = list(map(int,input().split()))\n\ncnt = 0\nfor i in range(n):\n   if l <= (a[i]-1)%h <= r or l <= a[i]%h <= r:\n      cnt += 1\nprint(cnt)", "\n\n# n, h, l, r = map(int, input().split())\n# a = list(map(int, input().split()))\n\nn, h, l, r = 7, 24, 21, 23\na = [16, 17, 14, 20, 20, 11, 22]\n\ndp = [[0] * (h + 1) for _ in range(n + 1)]\n\nfor i in range(1, n + 1):\n    for j in range(h):\n        dp[i][j] = dp[i - 1][j]\n        if l <= j <= r:\n            dp[i][j] += 1\n        if l <= j + a[i - 1] <= r:\n            dp[i][j] = max(dp[i][j], 1 + dp[i - 1][j + a[i - 1] - 1])\n\nprint(max(dp[-1]))"]