["\n\nimport random\n\ndef max_beauty(n, k, x, a):\n    if k == 1:\n        return sum(a)\n\n    if k == 2:\n        return sum(a)\n\n    if x == 1:\n        return max(a)\n\n    if k == x:\n        return sum(a)\n\n    if k == n:\n        return sum(a)\n\n    if x == n:\n        return sum(a)\n\n    # k < x\n    if k < x:\n        if k == 2:\n            return sum(a) - min(a)\n        else:\n            return sum(a) - min(a) - min(a[1:-1])\n\n    # k > x\n    if k > x:\n        if x == 2:\n            return sum(a) - min(a)\n        else:\n            return sum(a) - min(a) - min(a[1:-1])\n\n    return -1\n\n\nif __name__ == \"__main__\":\n    n = random.randint(1, 5000)\n    k = random.randint(1, n)\n    x = random.randint(1, n)\n    a = [random.randint(1, 10**9) for i in range(n)]\n\n    print(n, k, x, a)\n    print(max_beauty(n, k, x, a))", "\n\ndef max_beauty(n, k, x, a):\n    if x < k:\n        return -1\n    if x == n:\n        return sum(a)\n    sum_a = 0\n    for i in range(k):\n        sum_a += a[i]\n    max_sum_a = sum_a\n    for i in range(k, n):\n        sum_a += a[i] - a[i-k]\n        max_sum_a = max(max_sum_a, sum_a)\n    return max_sum_a\n\n\nif __name__ == \"__main__\":\n    n, k, x = map(int, input().split())\n    a = list(map(int, input().split()))\n    print(max_beauty(n, k, x, a))", "\n\ndef main():\n    n, k, x = map(int, input().split())\n    a = list(map(int, input().split()))\n\n    if x < n - k + 1:\n        print(-1)\n        return\n\n    max_prefix_sum = [0] * (n + 1)\n    max_suffix_sum = [0] * (n + 1)\n    max_prefix_sum[0] = 0\n    max_suffix_sum[n] = 0\n\n    for i in range(1, n + 1):\n        max_prefix_sum[i] = max(max_prefix_sum[i - 1] + a[i - 1], a[i - 1])\n\n    for i in range(n - 1, -1, -1):\n        max_suffix_sum[i] = max(max_suffix_sum[i + 1] + a[i], a[i])\n\n    max_sum = 0\n    for i in range(n - k + 1):\n        max_sum = max(max_sum, max_prefix_sum[i] + max_suffix_sum[i + k])\n\n    print(max_sum)\n\nif __name__ == '__main__':\n    main()", "\n\n\ndef main():\n    n, k, x = map(int, input().split())\n    a = list(map(int, input().split()))\n    dp = [[0 for _ in range(x + 1)] for _ in range(n + 1)]\n    for i in range(1, n + 1):\n        for j in range(1, x + 1):\n            dp[i][j] = dp[i - 1][j]\n            if i >= k:\n                dp[i][j] = max(dp[i][j], dp[i - k][j - 1] + sum(a[i - k: i]))\n    print(dp[n][x])\n\n\nif __name__ == \"__main__\":\n    main()", "\n\n\ndef max_beauty_sum(n, k, x, a):\n    if x < n - k + 1:\n        return -1\n    elif x == n - k + 1:\n        return sum(a[i] for i in range(k - 1, n))\n    else:\n        return sum(a)\n\n\ndef main():\n    n, k, x = map(int, input().split())\n    a = list(map(int, input().split()))\n    print(max_beauty_sum(n, k, x, a))\n\n\nif __name__ == \"__main__\":\n    main()", "\n\nn, k, x = map(int, input().split())\na = list(map(int, input().split()))\n\nif x < k:\n    print(-1)\nelse:\n    # print('a', a)\n    # print('n', n)\n    # print('k', k)\n    # print('x', x)\n    # print()\n    ans = 0\n    for i in range(n - k + 1):\n        # print('i', i)\n        # print('a[i:i+k]', a[i:i+k])\n        # print('max(a[i:i+k])', max(a[i:i+k]))\n        # print('a.index(max(a[i:i+k]))', a.index(max(a[i:i+k])))\n        # print('a.index(max(a[i:i+k])) + i', a.index(max(a[i:i+k])) + i)\n        ans += max(a[i:i+k])\n        a[a.index(max(a[i:i+k])) + i] = 0\n        # print('a', a)\n        # print()\n    print(ans)", "\n\nimport sys\n\ndef main():\n    line = sys.stdin.readline().strip().split(\" \")\n    n, k, x = int(line[0]), int(line[1]), int(line[2])\n    line = sys.stdin.readline().strip().split(\" \")\n    a = [int(x) for x in line]\n    a.sort()\n    a.reverse()\n    if x < k:\n        print(-1)\n        return\n    if n == x:\n        print(sum(a))\n        return\n    ans = 0\n    for i in range(x):\n        ans += a[i]\n    for i in range(k-1, n-x, k):\n        ans += a[i]\n    print(ans)\n\nif __name__ == \"__main__\":\n    main()", "\n\nimport sys\nimport math\ninput = sys.stdin.readline\n\ndef main():\n    n, k, x = map(int, input().split())\n    a = list(map(int, input().split()))\n    if x < k or x > n or sum(a) < x:\n        print(-1)\n        return\n    if k == 1:\n        print(sum(a))\n        return\n    dp = [[0 for _ in range(x+1)] for _ in range(k)]\n    for i in range(n):\n        for j in range(1, k):\n            dp[j][1] = max(dp[j][1], dp[j-1][1]+a[i])\n        for j in range(2, x+1):\n            dp[1][j] = max(dp[1][j], dp[0][j-1]+a[i])\n        for j in range(2, k):\n            for p in range(2, x+1):\n                dp[j][p] = max(dp[j][p], dp[j-1][p-1]+a[i])\n    print(dp[k-1][x])\n\nif __name__ == '__main__':\n    main()"]