["\n\nn, m, q = map(int, input().split())\n\n# \u5165\u529b\nabcd = []\nfor i in range(q):\n    a, b, c, d = map(int, input().split())\n    abcd.append([a, b, c, d])\n\n# \u30b9\u30b3\u30a2\u8a08\u7b97\nscore = 0\nfor i in range(q):\n    a, b, c, d = abcd[i]\n    if b - a == c:\n        score += d\n\n# \u51fa\u529b\nprint(score)", "\n\nfrom itertools import accumulate\nfrom bisect import bisect_right\n\ndef main():\n    N, M, Q = map(int, input().split())\n    abcd = [list(map(int, input().split())) for _ in range(Q)]\n    ans = 0\n    for i in range(M):\n        for j in range(i, M):\n            score = 0\n            for a, b, c, d in abcd:\n                if i <= c < j:\n                    score += d\n            ans = max(ans, score)\n    print(ans)\n\ndef main2():\n    N, M, Q = map(int, input().split())\n    abcd = [list(map(int, input().split())) for _ in range(Q)]\n    ans = 0\n    for i in range(M):\n        for j in range(i, M):\n            score = 0\n            for a, b, c, d in abcd:\n                if i <= c < j:\n                    score += d\n            ans = max(ans, score)\n    print(ans)\n\ndef main3():\n    N, M, Q = map(int, input().split())\n    abcd = [list(map(int, input().split())) for _ in range(Q)]\n    ans = 0\n    for i in range(M):\n        for j in range(i, M):\n            score = 0\n            for a, b, c, d in abcd:\n                if i <= c < j:\n                    score += d\n            ans = max(ans, score)\n    print(ans)\n\ndef main4():\n    N, M, Q = map(int, input().split())\n    abcd = [list(map(int, input().split())) for _ in range(Q)]\n    ans = 0\n    for i in range(M):\n        for j in range(i, M):\n            score = 0\n            for a, b, c, d in abcd:\n                if i <= c < j:\n                    score += d\n            ans = max(ans, score)\n    print(ans)\n\nif __name__ == '__main__':\n    main()", "\n\nN, M, Q = map(int, input().split())\n\n# \u5165\u529b\u3092\u30ea\u30b9\u30c8\u306b\u683c\u7d0d\nabcd = []\nfor i in range(Q):\n    abcd.append(list(map(int, input().split())))\n\n# \u7d44\u307f\u5408\u308f\u305b\u3092\u5168\u63a2\u7d22\nans = 0\nfor i in range(1, M + 1):\n    for j in range(i, M + 1):\n        for k in range(j, M + 1):\n            score = 0\n            for l in range(Q):\n                if (abcd[l][0] == 1 and abcd[l][1] == 2 and abcd[l][2] == i - 1) or (abcd[l][0] == 1 and abcd[l][1] == 3 and abcd[l][2] == j - 1) or (abcd[l][0] == 2 and abcd[l][1] == 3 and abcd[l][2] == k - 1):\n                    score += abcd[l][3]\n            ans = max(ans, score)\nprint(ans)", "\n\nimport sys\n\ndef main():\n    # input\n    N, M, Q = map(int, sys.stdin.readline().strip().split())\n    abcd = []\n    for _ in range(Q):\n        abcd.append(tuple(map(int, sys.stdin.readline().strip().split())))\n\n    # initialize\n    dp = [[0] * (M+1) for _ in range(N+1)]\n    for i in range(1, N+1):\n        dp[i][0] = dp[i-1][0]\n        for j in range(1, M+1):\n            dp[i][j] = dp[i][j-1]\n            for a, b, c, d in abcd:\n                if i == b and j == c:\n                    dp[i][j] = max(dp[i][j], dp[a-1][c] + d)\n\n    # output\n    print(dp[-1][-1])\n\nif __name__ == '__main__':\n    main()", "\n\ndef main():\n    \"\"\"main function\"\"\"\n    # read input\n    n, m, q = map(int, input().split())\n    a, b, c, d = [], [], [], []\n    for _ in range(q):\n        tmpa, tmpb, tmpc, tmpd = map(int, input().split())\n        a.append(tmpa)\n        b.append(tmpb)\n        c.append(tmpc)\n        d.append(tmpd)\n\n    # calculate\n    ans = 0\n    for _ in range(2**n):\n        seq = [0] * n\n        for j in range(n):\n            seq[j] = int(bin(i >> j)[2:])\n        score = 0\n        for j in range(q):\n            if seq[b[j] - 1] - seq[a[j] - 1] == c[j]:\n                score += d[j]\n        ans = max(ans, score)\n\n    print(ans)\n\nif __name__ == '__main__':\n    main()", "\n\nN, M, Q = map(int, input().split())\n\n# dp[i][j] = A_i\u307e\u3067\u3067\u3001A_i\u304cj\u306e\u6642\u306e\u6700\u5927\u30b9\u30b3\u30a2\ndp = [[0] * (M+1) for _ in range(N+1)]\n\nfor _ in range(Q):\n    ai, bi, ci, di = map(int, input().split())\n    if ai == 1:\n        dp[bi][ci] = max(dp[bi][ci], di)\n    else:\n        for j in range(ci+1):\n            dp[bi][j] = max(dp[bi][j], dp[ai-1][ci-j] + di)\n\nprint(max(dp[N]))", "\n\n# --- Input --- #\nN, M, Q = map(int, input().split())\n\n# --- Initialization --- #\na, b, c, d = [], [], [], []\nfor i in range(Q):\n    ai, bi, ci, di = map(int, input().split())\n    a.append(ai)\n    b.append(bi)\n    c.append(ci)\n    d.append(di)\n\n# --- Main --- #\n# dp[i][j] : maximum score of a sequence whose length is i and the maximum value is j\ndp = [[0 for i in range(M+1)] for j in range(N+1)]\n\n# Initialization\nfor i in range(N+1):\n    for j in range(M+1):\n        for k in range(Q):\n            if i == a[k] and j == c[k] + 1:\n                dp[i][j] = d[k]\n\n# Update\nfor i in range(1, N+1):\n    for j in range(1, M+1):\n        dp[i][j] = max(dp[i][j], dp[i][j-1])\n        for k in range(Q):\n            if i == b[k] and j == c[k] + 1:\n                dp[i][j] = max(dp[i][j], dp[a[k]][j-c[k]] + d[k])\n\nprint(dp[N][M])", "\n\n#import sys\n#sys.setrecursionlimit(10**9)\n\nn, m, q = [int(i) for i in input().split()]\n\na = [[0 for i in range(m)] for j in range(n+1)]\n\nfor i in range(1, n+1):\n    a[i][0] = 1\n\nfor i in range(q):\n    ai, bi, ci, di = [int(i) for i in input().split()]\n    a[ai][ci] += di\n\nfor i in range(1, n+1):\n    for j in range(1, m):\n        a[i][j] += a[i][j-1]\n\nfor i in range(1, n+1):\n    for j in range(1, m):\n        a[i][j] += a[i-1][j]\n\nprint(a[n][m-1])"]