["\n\ndef main():\n    n = int(input())\n    l = input()\n    r = input()\n    l_ind = [i for i in range(n) if l[i] != '?']\n    r_ind = [i for i in range(n) if r[i] != '?']\n    l_q = [i for i in range(n) if l[i] == '?']\n    r_q = [i for i in range(n) if r[i] == '?']\n    l_q_ind = 0\n    r_q_ind = 0\n    pairs = []\n    for i in range(n):\n        if l[i] != '?' and r[i] != '?':\n            if l[i] == r[i]:\n                pairs.append((i+1, i+1))\n        elif l[i] == '?' and r[i] == '?':\n            if l_q_ind < len(l_q) and r_q_ind < len(r_q):\n                pairs.append((l_q[l_q_ind]+1, r_q[r_q_ind]+1))\n                l_q_ind += 1\n                r_q_ind += 1\n        elif l[i] == '?':\n            if l_q_ind < len(l_q):\n                pairs.append((l_q[l_q_ind]+1, i+1))\n                l_q_ind += 1\n        else:\n            if r_q_ind < len(r_q):\n                pairs.append((i+1, r_q[r_q_ind]+1))\n                r_q_ind += 1\n    print(len(pairs))\n    for pair in pairs:\n        print(pair[0], pair[1])\n\nif __name__ == '__main__':\n    main()", "\n\n\ndef main():\n    n = int(input())\n    l = input()\n    r = input()\n\n    # Find all pairs of boots that match\n    matches = []\n    for i in range(n):\n        if l[i] == r[i]:\n            matches.append((i, i))\n\n    # Find all pairs of boots that are compatible\n    left_unmatched = set()\n    right_unmatched = set()\n    for i in range(n):\n        if l[i] == '?':\n            left_unmatched.add(i)\n        if r[i] == '?':\n            right_unmatched.add(i)\n\n    # Find all pairs of boots that are compatible\n    compatible = []\n    for i in left_unmatched:\n        for j in right_unmatched:\n            compatible.append((i, j))\n\n    # Remove all pairs that have already been matched\n    for i, j in matches:\n        if (i, j) in compatible:\n            compatible.remove((i, j))\n        if (j, i) in compatible:\n            compatible.remove((j, i))\n\n    # Output\n    print(len(matches) + len(compatible))\n    for i, j in matches + compatible:\n        print(i + 1, j + 1)\n\n\nif __name__ == \"__main__\":\n    main()", "\n\nn = int(input())\nl = input()\nr = input()\n\nleft = {}\nright = {}\n\nfor i in range(n):\n    if l[i] == '?':\n        if '?' in left:\n            left['?'].append(i)\n        else:\n            left['?'] = [i]\n    else:\n        if l[i] in left:\n            left[l[i]].append(i)\n        else:\n            left[l[i]] = [i]\n\nfor i in range(n):\n    if r[i] == '?':\n        if '?' in right:\n            right['?'].append(i)\n        else:\n            right['?'] = [i]\n    else:\n        if r[i] in right:\n            right[r[i]].append(i)\n        else:\n            right[r[i]] = [i]\n\nans = 0\nfor i in left:\n    if i in right:\n        ans += min(len(left[i]), len(right[i]))\n\nif '?' in left and '?' in right:\n    ans += min(len(left['?']), len(right['?']))\n\nprint(ans)\n\nfor i in left:\n    if i in right:\n        for j in range(min(len(left[i]), len(right[i]))):\n            print(left[i][j] + 1, right[i][j] + 1)\n\nif '?' in left and '?' in right:\n    for j in range(min(len(left['?']), len(right['?']))):\n        print(left['?'][j] + 1, right['?'][j] + 1)", "\n\nn = int(input())\nl = input()\nr = input()\n\nl_dict = {}\nr_dict = {}\n\nfor i in range(n):\n    if l[i] == '?':\n        if '?' in l_dict:\n            l_dict['?'].append(i)\n        else:\n            l_dict['?'] = [i]\n    else:\n        if l[i] in l_dict:\n            l_dict[l[i]].append(i)\n        else:\n            l_dict[l[i]] = [i]\n\nfor i in range(n):\n    if r[i] == '?':\n        if '?' in r_dict:\n            r_dict['?'].append(i)\n        else:\n            r_dict['?'] = [i]\n    else:\n        if r[i] in r_dict:\n            r_dict[r[i]].append(i)\n        else:\n            r_dict[r[i]] = [i]\n\nans = 0\nfor i in l_dict:\n    if i == '?':\n        ans += min(len(l_dict[i]), len(r_dict[i]))\n    else:\n        if i in r_dict:\n            ans += min(len(l_dict[i]), len(r_dict[i]))\n\nprint(ans)\n\nfor i in l_dict:\n    if i == '?':\n        for j in range(min(len(l_dict[i]), len(r_dict[i]))):\n            print(l_dict[i][j] + 1, r_dict[i][j] + 1)\n    else:\n        if i in r_dict:\n            for j in range(min(len(l_dict[i]), len(r_dict[i]))):\n                print(l_dict[i][j] + 1, r_dict[i][j] + 1)", "\n\ndef main():\n    n = int(input())\n    l = input()\n    r = input()\n    l_dict = {}\n    r_dict = {}\n    for i in range(n):\n        if l[i] == '?':\n            if '?' in l_dict:\n                l_dict['?'].append(i+1)\n            else:\n                l_dict['?'] = [i+1]\n        else:\n            if l[i] in l_dict:\n                l_dict[l[i]].append(i+1)\n            else:\n                l_dict[l[i]] = [i+1]\n        if r[i] == '?':\n            if '?' in r_dict:\n                r_dict['?'].append(i+1)\n            else:\n                r_dict['?'] = [i+1]\n        else:\n            if r[i] in r_dict:\n                r_dict[r[i]].append(i+1)\n            else:\n                r_dict[r[i]] = [i+1]\n    ans = 0\n    for key in l_dict:\n        if key == '?':\n            ans += min(len(l_dict[key]), len(r_dict['?']))\n        elif key in r_dict:\n            ans += min(len(l_dict[key]), len(r_dict[key]))\n    print(ans)\n    for key in l_dict:\n        if key == '?':\n            for i in range(min(len(l_dict[key]), len(r_dict['?']))):\n                print(l_dict[key][i], r_dict['?'][i])\n        elif key in r_dict:\n            for i in range(min(len(l_dict[key]), len(r_dict[key]))):\n                print(l_dict[key][i], r_dict[key][i])\n\nif __name__ == \"__main__\":\n    main()", "\n\ndef main():\n    n = int(input())\n    l = input()\n    r = input()\n    l_indices = {}\n    r_indices = {}\n    for i in range(n):\n        if l[i] == '?':\n            if '?' in l_indices:\n                l_indices['?'].append(i)\n            else:\n                l_indices['?'] = [i]\n        else:\n            if l[i] in l_indices:\n                l_indices[l[i]].append(i)\n            else:\n                l_indices[l[i]] = [i]\n        if r[i] == '?':\n            if '?' in r_indices:\n                r_indices['?'].append(i)\n            else:\n                r_indices['?'] = [i]\n        else:\n            if r[i] in r_indices:\n                r_indices[r[i]].append(i)\n            else:\n                r_indices[r[i]] = [i]\n    pairs = 0\n    for key in l_indices:\n        if key == '?':\n            pairs += min(len(l_indices[key]), len(r_indices[key]))\n        elif key in r_indices:\n            pairs += min(len(l_indices[key]), len(r_indices[key]))\n    print(pairs)\n    for key in l_indices:\n        if key == '?':\n            for i in range(min(len(l_indices[key]), len(r_indices[key]))):\n                print(l_indices[key][i] + 1, r_indices[key][i] + 1)\n        elif key in r_indices:\n            for i in range(min(len(l_indices[key]), len(r_indices[key]))):\n                print(l_indices[key][i] + 1, r_indices[key][i] + 1)\n\nif __name__ == '__main__':\n    main()", "\n\ndef main():\n    n = int(input())\n    left = input()\n    right = input()\n    pairs = []\n    for i in range(n):\n        if left[i] == '?':\n            for j in range(n):\n                if right[j] == '?':\n                    pairs.append((i+1,j+1))\n        else:\n            for j in range(n):\n                if left[i] == right[j]:\n                    pairs.append((i+1,j+1))\n    print(len(pairs))\n    for pair in pairs:\n        print(pair[0],pair[1])\n\nif __name__ == \"__main__\":\n    main()", "\n\nn = int(input())\nl = input()\nr = input()\n\n# create a dictionary of all the left boots\nl_dict = {}\nfor i in range(n):\n    if l[i] == '?':\n        if '?' in l_dict:\n            l_dict['?'].append(i+1)\n        else:\n            l_dict['?'] = [i+1]\n    else:\n        if l[i] in l_dict:\n            l_dict[l[i]].append(i+1)\n        else:\n            l_dict[l[i]] = [i+1]\n\n# create a dictionary of all the right boots\nr_dict = {}\nfor i in range(n):\n    if r[i] == '?':\n        if '?' in r_dict:\n            r_dict['?'].append(i+1)\n        else:\n            r_dict['?'] = [i+1]\n    else:\n        if r[i] in r_dict:\n            r_dict[r[i]].append(i+1)\n        else:\n            r_dict[r[i]] = [i+1]\n\n# create a list of all the pairs of boots that can be paired\npairs = []\nfor i in l_dict:\n    if i in r_dict:\n        for j in l_dict[i]:\n            for k in r_dict[i]:\n                pairs.append((j, k))\n\n# create a list of all the pairs of boots that can be paired with a question mark\nfor i in l_dict:\n    if '?' in r_dict:\n        for j in l_dict[i]:\n            for k in r_dict['?']:\n                pairs.append((j, k))\n\n# create a list of all the pairs of boots that can be paired with a question mark\nfor i in r_dict:\n    if '?' in l_dict:\n        for j in l_dict['?']:\n            for k in r_dict[i]:\n                pairs.append((j, k))\n\n# create a list of all the pairs of boots that can be paired with a question mark\nif '?' in l_dict and '?' in r_dict:\n    for i in l_dict['?']:\n        for j in r_dict['?']:\n            pairs.append((i, j))\n\n# print the number of pairs\nprint(len(pairs))\n\n# print the pairs\nfor i in pairs:\n    print(i[0], i[1])"]