["\n\nimport sys\n\ndef main():\n    n = int(sys.stdin.readline().strip())\n    s = sys.stdin.readline().strip()\n    print(s)\n    print(n)\n\nif __name__ == '__main__':\n    main()", "\n\nimport sys\n\ndef main():\n    n = int(sys.stdin.readline())\n    s = sys.stdin.readline().strip()\n    MOD = 10**9 + 7\n    dp = [0] * n\n    dp[0] = 1\n    for i in range(1, n):\n        if s[i] == '?':\n            dp[i] = (dp[i-1] * 3) % MOD\n        elif s[i] == 'a':\n            dp[i] = dp[i-1]\n        elif s[i] == 'b':\n            dp[i] = dp[i-1]\n            if i > 1 and s[i-1] == 'a':\n                dp[i] += dp[i-2]\n        elif s[i] == 'c':\n            dp[i] = dp[i-1]\n            if i > 1 and s[i-1] == 'b':\n                dp[i] += dp[i-2]\n            if i > 2 and s[i-1] == 'a' and s[i-2] == 'b':\n                dp[i] += dp[i-3]\n        dp[i] %= MOD\n    print(dp[-1])\n\nif __name__ == '__main__':\n    main()", "\n\ndef main():\n    n = int(input())\n    s = input()\n    a = s.count('a')\n    b = s.count('b')\n    c = s.count('c')\n    q = s.count('?')\n    print((a*b*c + (q*a*b + q*b*c + q*a*c) + q*(q-1)*(q-2)//6) % (10**9 + 7))\n\nif __name__ == \"__main__\":\n    main()", "\n\n# Solution\n\nimport sys\n\ndef get_input():\n    n = int(input())\n    s = input()\n    return n, s\n\ndef solve(n, s):\n    MOD = 10**9 + 7\n    dp = [[0] * 3 for _ in range(n)]\n    for i in range(n):\n        for j in range(3):\n            if s[i] == \"?\" or s[i] == \"abc\"[j]:\n                dp[i][j] = sum(dp[i-1]) + 1 if i > 0 else 1\n    return sum(dp[-1]) % MOD\n\nif __name__ == \"__main__\":\n    n, s = get_input()\n    print(solve(n, s))", "\n\n# Solution\n\n# Solution 1\n\nn = int(input())\ns = input()\n\nk = s.count('?')\n\na = s.count('a')\nb = s.count('b')\nc = s.count('c')\n\nans = a*b*c\nans += k*(a*b + b*c + a*c)\nans += k*(k-1)*a*b*c\n\nprint(ans%(10**9+7))\n\n# Solution 2\n\nn = int(input())\ns = input()\n\nk = s.count('?')\n\na = s.count('a')\nb = s.count('b')\nc = s.count('c')\n\nans = a*b*c\nans += k*(a*b + b*c + a*c)\nans += k*(k-1)*a*b*c\n\nprint(ans%(10**9+7))", "\n\n#-----Solution-----\n\nn = int(input())\ns = input()\n\na = s.count('a')\nb = s.count('b')\nc = s.count('c')\nq = s.count('?')\n\nif q == 0:\n    print(0)\nelse:\n    print((a * b * c) % (10**9 + 7))", "\n\nimport sys\n\ndef solve(s):\n    n = len(s)\n    dp = [[0] * 3 for _ in range(n)]\n    for i in range(n):\n        if s[i] == '?':\n            dp[i][0] = 1\n            dp[i][1] = 1\n            dp[i][2] = 1\n        elif s[i] == 'a':\n            dp[i][0] = 1\n        elif s[i] == 'b':\n            dp[i][1] = dp[i-1][0]\n        elif s[i] == 'c':\n            dp[i][2] = dp[i-1][1]\n        else:\n            assert False\n    return dp[n-1][2]\n\n\nif __name__ == '__main__':\n    n = int(sys.stdin.readline())\n    s = sys.stdin.readline().strip()\n    print(solve(s))"]