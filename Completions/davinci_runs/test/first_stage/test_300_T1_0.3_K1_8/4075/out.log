2022-04-20 01:49:43.047901 """
We have N switches with "on" and "off" state, and M bulbs. The switches are numbered 1 to N, and the bulbs are numbered 1 to M.
Bulb i is connected to k_i switches: Switch s_{i1}, s_{i2}, ..., and s_{ik_i}. It is lighted when the number of switches that are "on" among these switches is congruent to p_i modulo 2.
How many combinations of "on" and "off" states of the switches light all the bulbs?

-----Constraints-----
 - 1 \leq N, M \leq 10
 - 1 \leq k_i \leq N
 - 1 \leq s_{ij} \leq N
 - s_{ia} \neq s_{ib} (a \neq b)
 - p_i is 0 or 1.
 - All values in input are integers.

-----Input-----
Input is given from Standard Input in the following format:
N M
k_1 s_{11} s_{12} ... s_{1k_1}
:
k_M s_{M1} s_{M2} ... s_{Mk_M}
p_1 p_2 ... p_M

-----Output-----
Print the number of combinations of "on" and "off" states of the switches that light all the bulbs.

-----Sample Input-----
2 2
2 1 2
1 2
0 1

-----Sample Output-----
1

 - Bulb 1 is lighted when there is an even number of switches that are "on" among the following: Switch 1 and 2.
 - Bulb 2 is lighted when there is an odd number of switches that are "on" among the following: Switch 2.
There are four possible combinations of states of (Switch 1, Switch 2): (on, on), (on, off), (off, on) and (off, off). Among them, only (on, on) lights all the bulbs, so we should print 1.
"""
2022-04-20 01:49:43.047910 --------------------------
2022-04-20 01:49:43.048012 using api key derek
2022-04-20 01:51:07.538020 {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "text": "\n\nimport sys\n\ndef main():\n    N, M = map(int, sys.stdin.readline().split())\n    switches = [[] for _ in range(N)]\n    for i in range(M):\n        k, *s = map(int, sys.stdin.readline().split())\n        for j in range(k):\n            switches[s[j]-1].append(i)\n    p = list(map(int, sys.stdin.readline().split()))\n    ans = 0\n    for i in range(1<<N):\n        flag = True\n        for j in range(M):\n            cnt = 0\n            for k in switches[j]:\n                if i>>k&1:\n                    cnt += 1\n            if cnt%2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 1,
      "logprobs": null,
      "text": "\n\nimport sys\n\ndef main():\n    n, m = map(int, sys.stdin.readline().split())\n    bulbs = []\n    for i in range(m):\n        bulbs.append(list(map(int, sys.stdin.readline().split())))\n    p = list(map(int, sys.stdin.readline().split()))\n\n    # print(bulbs)\n    # print(p)\n\n    ans = 0\n    for i in range(2**n):\n        # print(\"i = {}\".format(i))\n        flag = True\n        for j in range(m):\n            # print(\"j = {}\".format(j))\n            count = 0\n            for k in range(1, bulbs[j][0]+1):\n                # print(\"k = {}\".format(k))\n                if (i >> (bulbs[j][k]-1)) & 1:\n                    count += 1\n            # print(\"count = {}\".format(count))\n            if count % 2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 2,
      "logprobs": null,
      "text": "\n\nimport sys\nimport numpy as np\n\ndef main():\n    N, M = map(int, sys.stdin.readline().strip().split())\n    switches = np.zeros((N, M), dtype=np.int)\n    for i in range(M):\n        k = int(sys.stdin.readline().strip().split()[0])\n        switches[int(sys.stdin.readline().strip().split()[j]) - 1][i] = 1\n    p = np.array(list(map(int, sys.stdin.readline().strip().split())))\n    print(switches)\n    print(p)\n\nif __name__ == \"__main__\":\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 3,
      "logprobs": null,
      "text": "\n\ndef main():\n    n, m = map(int, input().split())\n    switches = [[] for _ in range(n)]\n    for i in range(m):\n        k, *s = map(int, input().split())\n        for j in range(k):\n            switches[s[j]-1].append(i)\n    p = list(map(int, input().split()))\n\n    ans = 0\n    for i in range(1 << n):\n        flag = True\n        for j in range(m):\n            cnt = 0\n            for k in switches[j]:\n                if i & (1 << k):\n                    cnt += 1\n            if cnt % 2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
    },
    {
      "finish_reason": "stop",
      "index": 4,
      "logprobs": null,
      "text": "\n\nimport sys\n\n# read data\nn, m = map(int, sys.stdin.readline().split())\n\n# create bulb_switch_list\nbulb_switch_list = []\nfor i in range(m):\n    bulb_switch_list.append(list(map(int, sys.stdin.readline().split())))\n\n# create switch_bulb_list\nswitch_bulb_list = [[] for i in range(n)]\nfor i in range(m):\n    for j in range(1, bulb_switch_list[i][0]+1):\n        switch_bulb_list[bulb_switch_list[i][j]-1].append(i)\n\n# create bulb_state_list\nbulb_state_list = list(map(int, sys.stdin.readline().split()))\n\n# create bulb_state_list_on\nbulb_state_list_on = [[] for i in range(m)]\nfor i in range(m):\n    for j in range(2**bulb_switch_list[i][0]):\n        bulb_state_list_on[i].append(0)\n        for k in range(bulb_switch_list[i][0]):\n            if (j >> k) & 1:\n                bulb_state_list_on[i][j] += 1\n\n# create switch_state_list_on\nswitch_state_list_on = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on[i].append(0)\n        for k in range(len(switch_bulb_list[i])):\n            if (j >> k) & 1:\n                switch_state_list_on[i][j] += 1\n\n# create switch_state_list_on_bulb_state_list_on\nswitch_state_list_on_bulb_state_list_on = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on[i].append([])\n        for k in range(m):\n            switch_state_list_on_bulb_state_list_on[i][j].append(0)\n        for k in range(len(switch_bulb_list[i])):\n            switch_state_list_on_bulb_state_list_on[i][j][switch_bulb_list[i][k]] = switch_state_list_on[i][j]\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list\nswitch_state_list_on_bulb_state_list_on_bulb_state_list = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on_bulb_state_list[i].append([])\n        for k in range(m):\n            switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j].append(0)\n        for k in range(m):\n            if switch_state_list_on_bulb_state_list_on[i][j][k] % 2 == bulb_state_list[k]:\n                switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j][k] = 1\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list_all\nswitch_state_list_on_bulb_state_list_on_bulb_state_list_all = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i].append(0)\n        for k in range(m):\n            if switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j][k] == 1:\n                switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i][j] += 1\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all\nswitch_state_list_on_bulb_state_list_on_bulb_state_list_all_all = 0\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        if switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i][j] == m:\n            switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all += 1\n\n# print\nprint(switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all)"
    },
    {
      "finish_reason": "stop",
      "index": 5,
      "logprobs": null,
      "text": "\n\n# N, M = map(int, input().split())\n# switches = []\n# for i in range(M):\n#     switches.append(list(map(int, input().split())))\n# bulbs = list(map(int, input().split()))\n#\n# def count_light(switches, bulbs, N, M):\n#     count = 0\n#     for i in range(2**N):\n#         switch_on = [0] * N\n#         for j in range(N):\n#             if ((i >> j) & 1):\n#                 switch_on[j] = 1\n#         light_on = [0] * M\n#         for j in range(M):\n#             for k in range(1, switches[j][0]+1):\n#                 if switch_on[switches[j][k]-1] == 1:\n#                     light_on[j] += 1\n#         for j in range(M):\n#             if light_on[j] % 2 == bulbs[j]:\n#                 count += 1\n#                 break\n#     return count\n#\n# print(count_light(switches, bulbs, N, M))\n\nN, M = map(int, input().split())\nswitches = []\nfor i in range(M):\n    switches.append(list(map(int, input().split())))\nbulbs = list(map(int, input().split()))\n\ndef count_light(switches, bulbs, N, M):\n    count = 0\n    for i in range(2**N):\n        switch_on = [0] * N\n        for j in range(N):\n            if ((i >> j) & 1):\n                switch_on[j] = 1\n        light_on = [0] * M\n        for j in range(M):\n            for k in range(1, switches[j][0]+1):\n                if switch_on[switches[j][k]-1] == 1:\n                    light_on[j] += 1\n        for j in range(M):\n            if light_on[j] % 2 == bulbs[j]:\n                count += 1\n                break\n    return count\n\nprint(count_light(switches, bulbs, N, M))"
    },
    {
      "finish_reason": "length",
      "index": 6,
      "logprobs": null,
      "text": "\n\n#-----main-----\n#input\nN, M = map(int, input().split())\n\n#bulb_list\nbulb_list = []\nfor i in range(M):\n    bulb_list.append(list(map(int, input().split())))\n\n#p_list\np_list = list(map(int, input().split()))\n\n#bulb_list_on\nbulb_list_on = []\nfor i in range(M):\n    bulb_list_on.append(bulb_list[i][1:])\n\n#bulb_list_on_on\nbulb_list_on_on = []\nfor i in range(M):\n    bulb_list_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on[i].append(bulb_list_on[i][j] + N)\n\n#bulb_list_on_off\nbulb_list_on_off = []\nfor i in range(M):\n    bulb_list_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off[i].append(bulb_list_on[i][j] + N)\n        else:\n            bulb_list_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_on\nbulb_list_off_on = []\nfor i in range(M):\n    bulb_list_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on[i].append(bulb_list_on[i][j] + N)\n        else:\n            bulb_list_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_off\nbulb_list_off_off = []\nfor i in range(M):\n    bulb_list_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_off[i].append(bulb_list_on[i][j] + N)\n\n#bulb_list_on_on_on\nbulb_list_on_on_on = []\nfor i in range(M):\n    bulb_list_on_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_on[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_on_on_off\nbulb_list_on_on_off = []\nfor i in range(M):\n    bulb_list_on_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_on_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_on\nbulb_list_on_off_on = []\nfor i in range(M):\n    bulb_list_on_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_on_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_off\nbulb_list_on_off_off = []\nfor i in range(M):\n    bulb_list_on_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_off_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_off_on_on\nbulb_list_off_on_on = []\nfor i in range(M):\n    bulb_list_off_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_off_on_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_on_off\nbulb_list_off_on_off = []\nfor i in range(M):\n    bulb_list_off_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_on_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_off_off_on\nbulb_list_off_off_on = []\nfor i in range(M):\n    bulb_list_off_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_off_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_off_off\nbulb_list_off_off_off = []\nfor i in range(M):\n    bulb_list_off_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_off_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_on_on_on_on\nbulb_list_on_on_on_on = []\nfor i in range(M):\n    bulb_list_on_on_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_on_on[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_on_on_off\nbulb_list_on_on_on_off = []\nfor i in range(M):\n    bulb_list_on_on_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on_off[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_on_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_on_off_on\nbulb_list_on_on_off_on = []\nfor i in range(M):\n    bulb_list_on_on_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_on_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_on_off_off\nbulb_list_on_on_off_off = []\nfor i in range(M):\n    bulb_list_on_on_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_off_off[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_off_on_on\nbulb_list_on_off_on_on = []\nfor i in range(M):\n    bulb_list_on_off_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_off_on_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_on_off\nbulb_list_on_off_on_off = []\nfor i in range(M):\n    bulb_list_on_off_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_off_on_off[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_off_off_on\nbulb_list_on_off_off_on = []\nfor i in range(M):\n    bulb_list_on_off_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_off_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_off_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_off_off\nbulb_list_on_off_off_off = []"
    },
    {
      "finish_reason": "stop",
      "index": 7,
      "logprobs": null,
      "text": "\n\nimport sys\n\nN, M = map(int, sys.stdin.readline().split())\n\n# k_i, s_{ij}\nbulbs = []\nfor i in range(M):\n    bulbs.append(list(map(int, sys.stdin.readline().split())))\n\n# p_i\np = list(map(int, sys.stdin.readline().split()))\n\n# \u5404\u96fb\u7403\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u30b9\u30a4\u30c3\u30c1\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\nswitches = [[] for i in range(N)]\nfor i in range(M):\n    for j in range(1, bulbs[i][0]+1):\n        switches[bulbs[i][j]-1].append(i)\n\n# \u5168\u3066\u306e\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\nall_states = (1 << N) - 1\n\n# \u5168\u3066\u306e\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\u3057\u305f\u6642\u3001\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u95a2\u6570\ndef is_lighted(state, i):\n    # \u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\u3057\u305f\u6642\u3001\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    c = 0\n    for switch in switches[i]:\n        if state & (1 << switch):\n            c += 1\n    return c % 2 == p[i]\n\n# \u5168\u3066\u306e\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u6570\u3048\u308b\ncount = 0\nfor state in range(all_states+1):\n    # \u5168\u3066\u306e\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\n    lighted = True\n    for i in range(N):\n        if not is_lighted(state, i):\n            lighted = False\n            break\n    if lighted:\n        count += 1\n\nprint(count)"
    }
  ],
  "created": 1650419383,
  "id": "cmpl-4ytlPw5HyaXqSlEPT7w3iBkQxstKg",
  "model": "code-davinci:002",
  "object": "text_completion"
}
2022-04-20 01:51:07.538590 0 {
  "finish_reason": "stop",
  "index": 0,
  "logprobs": null,
  "text": "\n\nimport sys\n\ndef main():\n    N, M = map(int, sys.stdin.readline().split())\n    switches = [[] for _ in range(N)]\n    for i in range(M):\n        k, *s = map(int, sys.stdin.readline().split())\n        for j in range(k):\n            switches[s[j]-1].append(i)\n    p = list(map(int, sys.stdin.readline().split()))\n    ans = 0\n    for i in range(1<<N):\n        flag = True\n        for j in range(M):\n            cnt = 0\n            for k in switches[j]:\n                if i>>k&1:\n                    cnt += 1\n            if cnt%2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-20 01:51:07.538645 REASON stop
2022-04-20 01:51:07.539227 1 {
  "finish_reason": "stop",
  "index": 1,
  "logprobs": null,
  "text": "\n\nimport sys\n\ndef main():\n    n, m = map(int, sys.stdin.readline().split())\n    bulbs = []\n    for i in range(m):\n        bulbs.append(list(map(int, sys.stdin.readline().split())))\n    p = list(map(int, sys.stdin.readline().split()))\n\n    # print(bulbs)\n    # print(p)\n\n    ans = 0\n    for i in range(2**n):\n        # print(\"i = {}\".format(i))\n        flag = True\n        for j in range(m):\n            # print(\"j = {}\".format(j))\n            count = 0\n            for k in range(1, bulbs[j][0]+1):\n                # print(\"k = {}\".format(k))\n                if (i >> (bulbs[j][k]-1)) & 1:\n                    count += 1\n            # print(\"count = {}\".format(count))\n            if count % 2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-20 01:51:07.539302 REASON stop
2022-04-20 01:51:07.539862 2 {
  "finish_reason": "stop",
  "index": 2,
  "logprobs": null,
  "text": "\n\nimport sys\nimport numpy as np\n\ndef main():\n    N, M = map(int, sys.stdin.readline().strip().split())\n    switches = np.zeros((N, M), dtype=np.int)\n    for i in range(M):\n        k = int(sys.stdin.readline().strip().split()[0])\n        switches[int(sys.stdin.readline().strip().split()[j]) - 1][i] = 1\n    p = np.array(list(map(int, sys.stdin.readline().strip().split())))\n    print(switches)\n    print(p)\n\nif __name__ == \"__main__\":\n    main()"
}
2022-04-20 01:51:07.539930 REASON stop
2022-04-20 01:51:07.542883 3 {
  "finish_reason": "stop",
  "index": 3,
  "logprobs": null,
  "text": "\n\ndef main():\n    n, m = map(int, input().split())\n    switches = [[] for _ in range(n)]\n    for i in range(m):\n        k, *s = map(int, input().split())\n        for j in range(k):\n            switches[s[j]-1].append(i)\n    p = list(map(int, input().split()))\n\n    ans = 0\n    for i in range(1 << n):\n        flag = True\n        for j in range(m):\n            cnt = 0\n            for k in switches[j]:\n                if i & (1 << k):\n                    cnt += 1\n            if cnt % 2 != p[j]:\n                flag = False\n                break\n        if flag:\n            ans += 1\n    print(ans)\n\nif __name__ == '__main__':\n    main()"
}
2022-04-20 01:51:07.542982 REASON stop
2022-04-20 01:51:07.544999 4 {
  "finish_reason": "stop",
  "index": 4,
  "logprobs": null,
  "text": "\n\nimport sys\n\n# read data\nn, m = map(int, sys.stdin.readline().split())\n\n# create bulb_switch_list\nbulb_switch_list = []\nfor i in range(m):\n    bulb_switch_list.append(list(map(int, sys.stdin.readline().split())))\n\n# create switch_bulb_list\nswitch_bulb_list = [[] for i in range(n)]\nfor i in range(m):\n    for j in range(1, bulb_switch_list[i][0]+1):\n        switch_bulb_list[bulb_switch_list[i][j]-1].append(i)\n\n# create bulb_state_list\nbulb_state_list = list(map(int, sys.stdin.readline().split()))\n\n# create bulb_state_list_on\nbulb_state_list_on = [[] for i in range(m)]\nfor i in range(m):\n    for j in range(2**bulb_switch_list[i][0]):\n        bulb_state_list_on[i].append(0)\n        for k in range(bulb_switch_list[i][0]):\n            if (j >> k) & 1:\n                bulb_state_list_on[i][j] += 1\n\n# create switch_state_list_on\nswitch_state_list_on = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on[i].append(0)\n        for k in range(len(switch_bulb_list[i])):\n            if (j >> k) & 1:\n                switch_state_list_on[i][j] += 1\n\n# create switch_state_list_on_bulb_state_list_on\nswitch_state_list_on_bulb_state_list_on = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on[i].append([])\n        for k in range(m):\n            switch_state_list_on_bulb_state_list_on[i][j].append(0)\n        for k in range(len(switch_bulb_list[i])):\n            switch_state_list_on_bulb_state_list_on[i][j][switch_bulb_list[i][k]] = switch_state_list_on[i][j]\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list\nswitch_state_list_on_bulb_state_list_on_bulb_state_list = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on_bulb_state_list[i].append([])\n        for k in range(m):\n            switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j].append(0)\n        for k in range(m):\n            if switch_state_list_on_bulb_state_list_on[i][j][k] % 2 == bulb_state_list[k]:\n                switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j][k] = 1\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list_all\nswitch_state_list_on_bulb_state_list_on_bulb_state_list_all = [[] for i in range(n)]\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i].append(0)\n        for k in range(m):\n            if switch_state_list_on_bulb_state_list_on_bulb_state_list[i][j][k] == 1:\n                switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i][j] += 1\n\n# create switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all\nswitch_state_list_on_bulb_state_list_on_bulb_state_list_all_all = 0\nfor i in range(n):\n    for j in range(2**len(switch_bulb_list[i])):\n        if switch_state_list_on_bulb_state_list_on_bulb_state_list_all[i][j] == m:\n            switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all += 1\n\n# print\nprint(switch_state_list_on_bulb_state_list_on_bulb_state_list_all_all)"
}
2022-04-20 01:51:07.545118 REASON stop
2022-04-20 01:51:07.546786 5 {
  "finish_reason": "stop",
  "index": 5,
  "logprobs": null,
  "text": "\n\n# N, M = map(int, input().split())\n# switches = []\n# for i in range(M):\n#     switches.append(list(map(int, input().split())))\n# bulbs = list(map(int, input().split()))\n#\n# def count_light(switches, bulbs, N, M):\n#     count = 0\n#     for i in range(2**N):\n#         switch_on = [0] * N\n#         for j in range(N):\n#             if ((i >> j) & 1):\n#                 switch_on[j] = 1\n#         light_on = [0] * M\n#         for j in range(M):\n#             for k in range(1, switches[j][0]+1):\n#                 if switch_on[switches[j][k]-1] == 1:\n#                     light_on[j] += 1\n#         for j in range(M):\n#             if light_on[j] % 2 == bulbs[j]:\n#                 count += 1\n#                 break\n#     return count\n#\n# print(count_light(switches, bulbs, N, M))\n\nN, M = map(int, input().split())\nswitches = []\nfor i in range(M):\n    switches.append(list(map(int, input().split())))\nbulbs = list(map(int, input().split()))\n\ndef count_light(switches, bulbs, N, M):\n    count = 0\n    for i in range(2**N):\n        switch_on = [0] * N\n        for j in range(N):\n            if ((i >> j) & 1):\n                switch_on[j] = 1\n        light_on = [0] * M\n        for j in range(M):\n            for k in range(1, switches[j][0]+1):\n                if switch_on[switches[j][k]-1] == 1:\n                    light_on[j] += 1\n        for j in range(M):\n            if light_on[j] % 2 == bulbs[j]:\n                count += 1\n                break\n    return count\n\nprint(count_light(switches, bulbs, N, M))"
}
2022-04-20 01:51:07.546906 REASON stop
2022-04-20 01:51:07.548379 6 {
  "finish_reason": "length",
  "index": 6,
  "logprobs": null,
  "text": "\n\n#-----main-----\n#input\nN, M = map(int, input().split())\n\n#bulb_list\nbulb_list = []\nfor i in range(M):\n    bulb_list.append(list(map(int, input().split())))\n\n#p_list\np_list = list(map(int, input().split()))\n\n#bulb_list_on\nbulb_list_on = []\nfor i in range(M):\n    bulb_list_on.append(bulb_list[i][1:])\n\n#bulb_list_on_on\nbulb_list_on_on = []\nfor i in range(M):\n    bulb_list_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on[i].append(bulb_list_on[i][j] + N)\n\n#bulb_list_on_off\nbulb_list_on_off = []\nfor i in range(M):\n    bulb_list_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off[i].append(bulb_list_on[i][j] + N)\n        else:\n            bulb_list_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_on\nbulb_list_off_on = []\nfor i in range(M):\n    bulb_list_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on[i].append(bulb_list_on[i][j] + N)\n        else:\n            bulb_list_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_off\nbulb_list_off_off = []\nfor i in range(M):\n    bulb_list_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_off[i].append(bulb_list_on[i][j] + N)\n\n#bulb_list_on_on_on\nbulb_list_on_on_on = []\nfor i in range(M):\n    bulb_list_on_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_on[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_on_on_off\nbulb_list_on_on_off = []\nfor i in range(M):\n    bulb_list_on_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_on_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_on\nbulb_list_on_off_on = []\nfor i in range(M):\n    bulb_list_on_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_on_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_off\nbulb_list_on_off_off = []\nfor i in range(M):\n    bulb_list_on_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_off_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_off_on_on\nbulb_list_off_on_on = []\nfor i in range(M):\n    bulb_list_off_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_off_on_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_on_off\nbulb_list_off_on_off = []\nfor i in range(M):\n    bulb_list_off_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_on_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_on_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_off_off_on\nbulb_list_off_off_on = []\nfor i in range(M):\n    bulb_list_off_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off_on[i].append(bulb_list_on[i][j] + 2 * N)\n        else:\n            bulb_list_off_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_off_off_off\nbulb_list_off_off_off = []\nfor i in range(M):\n    bulb_list_off_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_off_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_off_off_off[i].append(bulb_list_on[i][j] + 2 * N)\n\n#bulb_list_on_on_on_on\nbulb_list_on_on_on_on = []\nfor i in range(M):\n    bulb_list_on_on_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on_on[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_on_on[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_on_on_off\nbulb_list_on_on_on_off = []\nfor i in range(M):\n    bulb_list_on_on_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_on_off[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_on_on_off[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_on_off_on\nbulb_list_on_on_off_on = []\nfor i in range(M):\n    bulb_list_on_on_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_on_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_on_off_off\nbulb_list_on_on_off_off = []\nfor i in range(M):\n    bulb_list_on_on_off_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_on_off_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_on_off_off[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_off_on_on\nbulb_list_on_off_on_on = []\nfor i in range(M):\n    bulb_list_on_off_on_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_off_on_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_on_off\nbulb_list_on_off_on_off = []\nfor i in range(M):\n    bulb_list_on_off_on_off.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_on_off[i].append(bulb_list_on[i][j])\n        else:\n            bulb_list_on_off_on_off[i].append(bulb_list_on[i][j] + 3 * N)\n\n#bulb_list_on_off_off_on\nbulb_list_on_off_off_on = []\nfor i in range(M):\n    bulb_list_on_off_off_on.append([])\n    for j in range(len(bulb_list_on[i])):\n        if p_list[i] == 0:\n            bulb_list_on_off_off_on[i].append(bulb_list_on[i][j] + 3 * N)\n        else:\n            bulb_list_on_off_off_on[i].append(bulb_list_on[i][j])\n\n#bulb_list_on_off_off_off\nbulb_list_on_off_off_off = []"
}
2022-04-20 01:51:07.548482 REASON length
2022-04-20 01:51:07.548490 7 {
  "finish_reason": "stop",
  "index": 7,
  "logprobs": null,
  "text": "\n\nimport sys\n\nN, M = map(int, sys.stdin.readline().split())\n\n# k_i, s_{ij}\nbulbs = []\nfor i in range(M):\n    bulbs.append(list(map(int, sys.stdin.readline().split())))\n\n# p_i\np = list(map(int, sys.stdin.readline().split()))\n\n# \u5404\u96fb\u7403\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u30b9\u30a4\u30c3\u30c1\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\nswitches = [[] for i in range(N)]\nfor i in range(M):\n    for j in range(1, bulbs[i][0]+1):\n        switches[bulbs[i][j]-1].append(i)\n\n# \u5168\u3066\u306e\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\nall_states = (1 << N) - 1\n\n# \u5168\u3066\u306e\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\u3057\u305f\u6642\u3001\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u95a2\u6570\ndef is_lighted(state, i):\n    # \u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u30d3\u30c3\u30c8\u3067\u8868\u73fe\u3057\u305f\u6642\u3001\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306e\u5909\u6570\n    c = 0\n    for switch in switches[i]:\n        if state & (1 << switch):\n            c += 1\n    return c % 2 == p[i]\n\n# \u5168\u3066\u306e\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u30b9\u30a4\u30c3\u30c1\u306e\u72b6\u614b\u3092\u6570\u3048\u308b\ncount = 0\nfor state in range(all_states+1):\n    # \u5168\u3066\u306e\u96fb\u7403\u304c\u70b9\u706f\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\n    lighted = True\n    for i in range(N):\n        if not is_lighted(state, i):\n            lighted = False\n            break\n    if lighted:\n        count += 1\n\nprint(count)"
}
2022-04-20 01:51:07.548652 REASON stop
