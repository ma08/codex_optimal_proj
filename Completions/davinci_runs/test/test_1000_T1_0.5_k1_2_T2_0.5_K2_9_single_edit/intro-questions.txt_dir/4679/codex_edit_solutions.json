["\n\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '':  # \u5168\u3066\u306e\u7a7a\u6587\u5b57\u5217\u306b\u306a\u308b\u307e\u3067\u30eb\u30fc\u30d7\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':  # \u5148\u982d\u306e\u6587\u5b57\u304c\u306a\u304f\u306a\u3063\u305f\u3089\u3001\u6b21\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u56de\u3059\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n", "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip()\n    sb = sys.stdin.readline().rstrip()\n    sc = sys.stdin.readline().rstrip()\n\n    turn = \"A\"\n    while True:\n        if turn == \"A\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"B\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"C\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == '__main__':\n    main()\n", "S_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n\n\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n", "\n#\n# import sys\n#\n# def main():\n#     sa = sys.stdin.readline().rstrip()\n#     sb = sys.stdin.readline().rstrip()\n#     sc = sys.stdin.readline().rstrip()\n#\n#     turn = \"A\"\n#     while True:\n#         if turn == \"A\":\n#             if len(sa) == 0:\n#                 break\n#             turn = sa[0]\n#             sa = sa[1:]\n#         elif turn == \"B\":\n#             if len(sb) == 0:\n#                 break\n#             turn = sb[0]\n#             sb = sb[1:]\n#         elif turn == \"C\":\n#             if len(sc) == 0:\n#                 break\n#             turn = sc[0]\n#             sc = sc[1:]\n#     print(turn)\n#\n# if __name__ == '__main__':\n#     main()\n", "\nS_A = input().strip()\nS_B = input().strip()\nS_C = input().strip()\n\nplayer = 'A'\nwhile S_A != '' and S_B != '' and S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n\nprint(player)\n", "\n\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A + S_B + S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n", "\nimport sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip()\n    sb = sys.stdin.readline().rstrip()\n    sc = sys.stdin.readline().rstrip()\n\n    turn = \"A\"\n    while True:\n        if turn == \"A\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"B\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"C\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == \"__main__\":\n    main()\n", "#!/usr/bin/env python3\n\nimport sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip()\n    sb = sys.stdin.readline().rstrip()\n    sc = sys.stdin.readline().rstrip()\n\n    turn = \"A\"\n    while True:\n        if turn == \"A\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"B\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"C\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == '__main__':\n    main()\n", "\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '':\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n", "\nimport sys\n\ndef main():\n    sa = sys.stdin.readline().rstrip()\n    sb = sys.stdin.readline().rstrip()\n    sc = sys.stdin.readline().rstrip()\n\n    turn = \"A\"\n    while True:\n        if turn == \"A\":\n            if len(sa) == 0:\n                break\n            turn = sa[0]\n            sa = sa[1:]\n        elif turn == \"B\":\n            if len(sb) == 0:\n                break\n            turn = sb[0]\n            sb = sb[1:]\n        elif turn == \"C\":\n            if len(sc) == 0:\n                break\n            turn = sc[0]\n            sc = sc[1:]\n    print(turn)\n\nif __name__ == '__main__':\n    main()\n", "\nS_A = input()\nS_B = input()\nS_C = input()\n\nplayer = 'A'\nwhile S_A+S_B+S_C != '':  # \u5168\u3066\u306e\u7a7a\u767d\u6587\u5b57\u5217\u306b\u306a\u308b\u307e\u3067\u7e70\u308a\u8fd4\u3059\n    if player == 'A':\n        S_A, S_B, S_C = S_A[1:], S_B, S_C\n        player = S_A[0]\n        if player == '':  # \u6587\u5b57\u5217\u304c\u7a7a\u306b\u306a\u3063\u305f\u3089\u3001\u305d\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u52dd\u3061\n            player = 'A'\n            break\n    elif player == 'B':\n        S_A, S_B, S_C = S_A, S_B[1:], S_C\n        player = S_B[0]\n        if player == '':\n            player = 'B'\n            break\n    elif player == 'C':\n        S_A, S_B, S_C = S_A, S_B, S_C[1:]\n        player = S_C[0]\n        if player == '':\n            player = 'C'\n            break\n\nprint(player)\n"]