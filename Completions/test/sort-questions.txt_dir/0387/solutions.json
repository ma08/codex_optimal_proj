["import math\na,b= list(map(int,input().split()))\nn=a+b\nans,l=0,1\nwhile l<=n:\n    g= n//l\n    if a<g or b<g:\n        l= (n//g) +1\n        continue\n    r= n//g\n    a_low = (a+g)//(g+1)\n    a_high = a//g\n    b_low=(b+g)//(g+1)\n    b_high = b//g\n    if (a_low <= a_high and b_low <= b_high):\n        ans += max(0,min(r,a_high+b_high)- max(l,a_low +b_low)+1)\n\n    l=r+1\nprint(ans)\n", "a,b= list(map(int,input().split()))\nans,l,n=0,1,a+b\nwhile l<=n:\n    g= n//l\n    if a<g or b<g:\n        l= (n//g) +1\n        continue\n    r= n//g\n    al = (a+g)//(g+1)\n    ah = a//g\n    bl=(b+g)//(g+1)\n    bh = b//g\n    if (al <= ah and bl <= bh):\n        ans += max(0,min(r,ah+bh)- max(l,al +bl)+1)\n    l=r+1\nprint(ans)\n", "import math\n\na, b = [int(x) for x in input().split()]\ncnt = 0\nab = a + b\nk = 2\nwhile k <= ab:\n    t = ab // k\n    aPeriod = a // t\n    bPeriod = b // t\n    aLeft = (a + t) // (t + 1)\n    bLeft = (b + t) // (t + 1)\n    arem = a - t * aPeriod\n    brem = b - t * bPeriod\n    if aPeriod >= arem and bPeriod >= brem:\n    \tvalidK = aPeriod + bPeriod - aLeft - bLeft + 1\n    \tif (t + 1) * (aLeft + bLeft) == ab:\n    \t\tvalidK -= 1\n    \tif validK > 0:\n    \t\tcnt += validK\n    k = ab // t + 1\nprint(cnt)"]