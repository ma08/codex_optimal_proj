["import sys\ninput = lambda: sys.stdin.readline().rstrip()\n\nT = int(input())\nfor _ in range(T):\n    N = int(input())\n    A = [int(a) for a in input().split()]\n    \n    if max(A) == min(A):\n        print(1)\n        print(*([1] * N))\n    elif N % 2 == 0:\n        print(2)\n        print(*([1, 2] * (N // 2)))\n    else:\n        for i in range(N):\n            if A[i-1] == A[i]:\n                print(2)\n                print(*(([1, 2] * N)[:i][::-1] + ([1, 2] * N)[:N-i]))\n                break\n        else:\n            print(3)\n            print(*([3] + [1, 2] * (N // 2)))\n\n", "t = int(input())\nfor case_num in range(t):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    color = [1] * n\n    if len(set(a)) == 1:\n        print(1)\n        print(' '.join(map(str, color)))\n    else:\n        one = [False] * n\n        two = [False] * n\n        one[0] = True\n        for i in range(n - 1):\n            if a[i] == a[i + 1]:\n                color[i + 1] = color[i]\n            else:\n                color[i + 1] = 3 - color[i]\n        if a[0] == a[n - 1] or color[0] != color[n - 1]:\n            print(2)\n            print(' '.join(map(str, color)))\n        else:\n            backup = color.copy()\n            color[n - 1] = 2\n            i = n - 2\n            while i >= 0 and a[i] != a[i + 1] and color[i] == color[i + 1]:\n                color[i] = 3 - color[i + 1]\n                i -= 1\n            if color[0] == 1:\n                print(2)\n                print(' '.join(map(str, color)))\n            else:\n                backup[n - 1] = 3\n                print(3)\n                print(' '.join(map(str, backup)))\n", "q = int(input())\n\nfor _ in range(q):\n    n = int(input())\n    \n    t = list(map(int, input().split()))\n    \n    t_set = set(t)\n    \n    if len(t_set) == 1:\n        print(1)\n        print(*([1] * n))\n        continue\n    \n    if n%2==0:\n        print(2)\n        print(*([1,2]*(n//2)))\n        continue\n        \n    found = -1\n    for i, (t1, t2) in enumerate(zip(t, t[1:]+[t[0]])):\n        if t1==t2:\n            found = (i+1)%n\n    if found >= 0:\n        print(2)\n        r = []\n        one = True\n        for i in range(n):\n            if i==found:\n                one = not one\n            if one:\n                r += [1]\n            else:\n                r += [2]\n            one = not one\n        print(*r)\n        continue\n    \n    print(3)\n    r = [1, 2] * (n//2) + [3]\n    print(*r) \n    \n            \n", "\nq = int(input())\n\nfor loop in range(q):\n\n    n = int(input())\n\n    t = list(map(int,input().split()))\n\n    dic = {}\n    for i in t:\n        dic[i] = 1\n\n    if len(dic) == 1:\n        k = 1\n        ans = [1] * n\n    elif n % 2 == 0:\n\n        k = 2\n        ans = []\n        for i in range(n):\n            if i % 2 == 0:\n                ans.append(1)\n            else:\n                ans.append(2)\n\n    else:\n\n        flag = 0\n        ans = []\n\n        for i in range(n):\n\n            if flag == 0 and t[i-1] == t[i]:\n                flag = 1\n\n            ans.append( (i+flag) % 2 )\n\n        if flag == 0:\n            ans[-1] = 2\n            k = 3\n        else:\n            k = 2\n\n        for i in range(n):\n            ans[i] += 1\n\n    print (k)\n    print(*ans)\n", "from itertools import groupby\n\n\ndef go():\n    # n,k = map(int,input().split()\n    n = int(input())\n    x = list(map(int, input().split()))\n\n    if all(xx == x[0] for xx in x):\n        return '1\\n' + ' '.join(['1'] * (n))\n    if n % 2 == 0:\n        return '2\\n' + ' '.join(['1', '2'] * (n // 2))\n\n    prev=x[-1]\n    done=False\n    ans=[]\n    cur=0\n    for xx in x:\n        if prev==xx and not done:\n            done=True\n        else:\n            cur=(cur+1)%2\n        ans.append(str(cur + 1))\n        prev=xx\n\n    if not done:\n        ans[0]='3'\n        v='3'\n    else:\n        v='2'\n\n    return v +'\\n' + ' '.join(ans)\n\n\n# x,s = map(int,input().split())\nt = int(input())\n# t=1\nans = []\nfor _ in range(t):\n    # go()\n    ans.append(str(go()))\n\nprint('\\n'.join(ans))\n", "q = int(input())\nfor test_case in range(q):\n    n = int(input())\n    t = input().split()\n    if n==1:\n        print(1)\n        print(1)\n        continue\n    t_0 = t[0]\n    all_same = True\n    any_adj_same = False\n    adj_same_index = -1\n    for i in range(0,len(t)):\n        animal = t[i]\n        if animal!=t_0:\n            all_same = False\n        if animal==t[(i+1)%n]:\n            any_adj_same = True\n            adj_same_index = i\n\n    if all_same:\n        print(1)\n        output = \"\"\n        for i in range(n):\n            output+=\" 1\"\n        output = output[1:]\n        print(output)\n        continue\n\n    if n%2==0:\n        print(2)\n        output = \"\"\n        for i in range(n):\n            output+= (\" 1\" if i%2 == 0 else \" 2\")\n        output = output[1:]\n        print(output)\n        continue\n    if any_adj_same:\n        print(2)\n        output = \"\"\n        for i in range(n):\n            if i>adj_same_index:\n                output+= (\" 2\" if i%2 == 0 else \" 1\")\n            else:\n                output+= (\" 1\" if i%2 == 0 else \" 2\")\n        output = output[1:]\n        print(output)\n        continue\n    else:\n        print(3)\n        output = \"\"\n        for i in range(n-1):\n            output+= (\"1 \" if i%2 == 0 else \"2 \")\n        output += \"3\"\n        print(output)\n        continue\n", "t=int(input())\nfor foo in range(t):\n    n=int(input())\n    t=list(map(int,input().split()))\n    same=1\n    pair=0\n    for i in range(n):\n        if t[i]==t[i-1]:\n            pair=1\n        else:\n            same=0\n    if same==1:\n        print(1)\n        print(*([1]*n))\n    else:\n        if n%2==0:\n            print(2)\n            print(*([1,2]*(n//2)))\n        else:\n            if pair==1:\n                print(2)\n                s=[1]*n\n                p=0\n                for i in range(n-1):\n                    if p==1 or t[i]!=t[i-1]:\n                        s[i]=3-s[i-1]\n                    else:\n                        p=1\n                        s[i]=s[i-1]\n                print(*s)\n            if pair==0:\n                print(3)\n                print(*([1,2]*(n//2)),3)", "#!/usr/bin/env python3\nimport sys\ninput = sys.stdin.readline\n\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    a = [int(item) for item in input().split()]\n    kind = len(set(a))\n    # Single animal\n    if kind == 1:\n        ans = [1] * n\n        print(1)\n        print(*ans)\n        continue\n    # Has sequence\n    a.append(a[0])\n    l = 0\n    has_sequence = False\n    for i, (a1, a2) in enumerate(zip(a, a[1:])):\n        if a1 == a2:\n            l = i\n            has_sequence = True\n            break\n    # All different\n    if not has_sequence:\n        if n % 2 == 0:\n            ans = [1, 2] * (n // 2)\n            print(2)\n            print(*ans)\n        else:\n            ans = [1, 2] * (n // 2) + [3]\n            print(3)\n            print(*ans)\n        continue\n    if n % 2 == 0:\n        ans = [1, 2] * (n // 2)\n        print(2)\n        print(*ans)\n    else:\n        ans = [1, 2] * (n // 2)\n        if l == n - 1:\n            ans.append(ans[0])\n        else:\n            ans.insert(l, ans[l])\n        print(2)\n        print(*ans)", "def changed(colors,types,n):\n    index = -1\n    for i in range(n-1,0,-1):\n        if types[i] == types[i-1]:\n            index = i-1\n            break\n\n    if index == -1:\n        colors[n-1] = 3\n        return True\n\n    for i in range(index+1,n):\n        if colors[i-1] == 1:\n            colors[i] = 2\n        else:\n            colors[i] = 1\n\n    return False\n    \n\ndef solve(types,n,ans):\n    colors = []\n    colors.append(1)\n    k = 1\n    for i in range(1,n):\n        if types[i] != types[i-1]:\n            k += 1\n            if colors[-1] == 1:\n                colors.append(2)\n            else:\n                colors.append(1)\n        else:\n            colors.append(colors[-1])\n\n    k = min(k,2)\n    if colors[n-1] == colors[0] and types[n-1] != types[0]:\n        if changed(colors,types,n):\n            k += 1\n\n    ans.append([k])\n    ans.append(colors)\n            \n\ndef main():\n    ans = []\n    q = int(input())\n    for i in range(q):\n        n = int(input())\n        types = list(map(int,input().split()))\n        solve(types,n,ans)\n\n    for i in ans:\n        for j in i:\n            print(j,end = ' ')\n\n        print()\n\nmain()\n", "import sys\ninput = sys.stdin.readline\n\nt=int(input())\n\nfor tests in range(t):\n    n=int(input())\n    A=list(map(int,input().split()))\n\n    ANS=[-1]*n\n    ANS[0]=1\n\n    if min(A)==max(A):\n        print(1)\n        print(*[1]*n)\n        continue\n\n    if n%2==1:\n        flag=0\n    else:\n        flag=1\n        \n    for i in range(1,n):\n        if flag==0:\n            if A[i]==A[i-1]:\n                ANS[i]=ANS[i-1]\n                flag=1\n            else:\n                ANS[i]=3-ANS[i-1]\n        else:\n            ANS[i]=3-ANS[i-1]\n\n    if flag==0 and A[i]!=A[0]:\n        ANS[n-1]=3\n\n    print(max(ANS))\n    print(*ANS)\n", "for _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    ans=[1]*(n)\n    f=1\n    ind=0\n    if a[0]==a[1]:\n        ind=1\n    for i in range(1,n):\n        if a[i]==a[i-1]:\n            ans[i]=ans[i-1]\n        else:\n            ans[i]=3-ans[i-1]\n            f=2\n        if a[i]==a[(i+1)%n]:\n            ind=(i+1)%n\n        \n    if a[0]!=a[-1] and ans[-1]==ans[0]:\n        ans[-1]=3\n        f=3\n    \n    # print(ind)\n    \n    if f==3 and ind:\n        for i in range(ind,n):\n            ans[i]=3-ans[i]\n        ans[-1]=3-ans[0]    \n            \n    \n    print(len(set(ans)))    \n    \n    \n    # if f:\n    #     print(3)\n        \n    # else:\n    #     print(2)\n    print(*ans)    ", "def pos(ls):\n    for i in range(-1, len(ls)-1):\n        if ls[i] == ls[i+1]:\n            return i\n    return -2\nfor i in range(int(input())):\n    n = int(input())\n    lst = list(map(int, input().split()))\n    if len(set(lst)) == 1:\n        print(1)\n        lll = [1] * n\n        print(*lll)\n    else:\n        if n % 2 == 0:\n            lll = [1, 2] * (n//2)\n            print(2)\n            print(*lll)\n        else:\n            k = pos(lst)\n            if k != -2:\n                lll = [1, 2] * (n // 2)\n                if k == -1:\n                    print(2)\n                    print(*lll, 1)\n                else:\n                    if lll[k] == 1:\n                        lll[k] = '1 1'\n                    else:\n                        lll[k] = '2 2'\n                    print(2)\n                    print(*lll)\n            else:\n                print(3)\n                lll = [1, 2] * (n // 2)\n                print(*lll, 3)", "for tc in range(int(input())):\n    n = int(input())\n    ls = list(map(int, input().split()))\n    if len(set(ls)) == 1:\n        print(1)\n        print(' '.join(['1' for _ in range(n)]))\n    else:\n        solo = True\n        ngroups = 0\n        for i in range(n):\n            if ls[i] == ls[i-1]:\n                solo = False\n            else:\n                ngroups += 1\n\n        shuffle = 1 if (ngroups%2 and not solo) else 0\n            \n        i = 0\n        while ls[i] == ls[i-1]:\n            i += 1\n        res = [None for _ in range(n)]\n        st = 1\n        for j in range(n):\n            if shuffle and ls[i] == ls[i-1]:\n                st = 3-st\n                shuffle = 0\n            res[i] = st\n            i = (i+1) % n\n            if ls[i] != ls[i-1]:\n                st = 3-st\n            \n        #print(res, st)\n        if st == 2:\n            i = (i-1) % n\n            res[i] = 3\n            while ls[(i-1) % n] == ls[i]:\n                i = (i-1) % n\n                res[i] = 3\n\n        print(max(res))\n        print(' '.join(map(str, res)))\n", "for nt in range(int(input())):\n\tn=int(input())\n\tl=list(map(int,input().split()))\n\ts=list(set(l))\n\ts.sort()\n\tif len(s)==1:\n\t\tprint (1)\n\t\tprint (*([1]*n))\n\telif len(s)==2:\n\t\tprint (2)\n\t\ta=s[0]\n\t\tb=s[1]\n\t\tans=[]\n\t\tfor i in l:\n\t\t\tif i==a:\n\t\t\t\tans.append(1)\n\t\t\telse:\n\t\t\t\tans.append(2)\n\t\tprint (*ans)\n\telse:\n\t\tans=[1]\n\t\tfor i in range(1,n):\n\t\t\tif i==n-1:\n\t\t\t\tif l[i]==l[i-1] and l[0]==l[i]:\n\t\t\t\t\tans.append(ans[-1])\n\t\t\t\telif l[i]==l[i-1] and l[i]!=l[0]:\n\t\t\t\t\tans.append((ans[0]%2)+1)\n\t\t\t\telse:\n\t\t\t\t\ttemp=(ans[-1]%2)+1\n\t\t\t\t\tif l[i]==l[0]:\n\t\t\t\t\t\tans.append(temp)\n\t\t\t\t\telse:\n\t\t\t\t\t\tif temp==ans[0]:\n\t\t\t\t\t\t\tans.append(3)\n\t\t\t\t\t\telse:\n\t\t\t\t\t\t\tans.append(temp)\n\t\t\t\tcontinue\n\t\t\tif l[i]==l[i-1]:\n\t\t\t\tans.append(ans[-1])\n\t\t\telse:\n\t\t\t\tans.append((ans[-1]%2)+1)\n\t\tx=(len(set(ans)))\n\t\tif x==2:\n\t\t\tprint (2)\n\t\t\tprint (*ans)\n\t\t\tcontinue\n\t\tfind=0\n\t\tfor i in range(n-1,0,-1):\n\t\t\tif l[i]==l[i-1]:\n\t\t\t\tindex=i\n\t\t\t\tprev=ans[i-1]\n\t\t\t\tfind=1\n\t\t\t\tbreak\n\t\tif not find:\n\t\t\tprint (3)\n\t\t\tprint (*ans)\n\t\telse:\n\t\t\tfor i in range(index,n):\n\t\t\t\tans[i]=(ans[i-1]%2)+1\n\t\t\tprint (2)\n\t\t\tprint (*ans)", "import sys\ninput = sys.stdin.readline\n\nfor _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n\n    if len(set(a)) == 1:\n        print(1)\n        print(*([1]*n))\n    elif n % 2 == 0:\n        print(2)\n        print(*([1, 2] * (n // 2)))\n    else:\n        flag = 1\n        v = 0\n        ans = [1]*n\n        for i in range(1, n):\n            if flag and a[i-1] == a[i]:\n                flag = 0\n            else:\n                v ^= 1\n            ans[i] = v+1\n\n        if flag and a[0] != a[-1]:\n            ans[-1] = 3\n            print(3)\n            print(*ans)\n        else:\n            print(2)\n            print(*ans)\n", "t = int(input())\nwhile(t):\n    t -= 1\n    n = int(input())\n    a = list(map(int, input().split()))\n    if(len(set(a)) == 1):\n        print(1)\n        print(\"1 \"*n)\n    elif(n % 2 == 0):\n        print(2)\n        print(\"1 2 \" * (n // 2))\n    else:\n        ans = [1]\n        en = 1\n        colour = 2\n        for i in range(1, n):\n            if(en and a[i] == a[i-1]):\n                colour = 3 - colour\n                en = 0\n            ans.append(colour)\n            colour = 3 - colour\n        if(a[-1] != a[0] and ans[-1] == 1):\n            ans[-1] = 3\n        print(max(ans))\n        print(*ans)"]