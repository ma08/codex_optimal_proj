["input()\na = list(map(int, input().split()))\nb = []\ni = j = 0\nwhile i < len(a):\n  while j < len(a) and a[j] == a[i]:\n    j += 1\n  if (j - i) % 2 == 1:\n    b += [a[i]]\n  i = j - (j - i) // 2\n  for k in range(i, j):\n    a[k] += 1\nprint(b[-1] - len(b) + 1)", "n = int(input())\nI = list(map(int, input().split()))\na = [];\nfor val in I:\n    a.append(val);\nla = len(a);\nb = []; c = []; d = -1;\nfor i in range (0, la):\n    if i == 0 or a[i] != a[i-1]:\n        b.append(a[i]);\n        c.append(1);\n        d = d + 1;\n    else:\n        c[d] = c[d] + 1;\nd = d + 1;\ntot = 0; idx = 0;\nfor i in range(0, d):\n    while idx < b[i]:\n        if tot < 2:\n            break;\n        else:\n            tot = int(tot / 2);\n            idx = idx + 1;\n    if idx < b[i]:\n        idx = b[i];\n        tot = c[i];\n    else:\n        tot = tot + c[i];\nwhile tot >= 2:\n    tot = int(tot / 2);\n    idx = idx + 1;\nidx = idx + 1;\nres = idx;\n#print (idx)\nst = []; tot = 0; idx = 0;\nfor i in range (0, d):\n    while idx < b[i]:\n        if tot == 0:\n            break;\n        else:\n            if tot == 1:\n                st.append(idx);\n                tot = 0; idx = idx + 1;\n            else:\n                if tot % 2 == 1:\n                    st.append(idx);\n                tot = int(tot / 2);\n                idx = idx + 1;\n    if idx < b[i]:\n        idx = b[i]; tot = c[i];\n        if tot % 2 == 1:\n            st.append(idx);\n        tot = int(tot / 2);\n        idx = idx + 1;\n    else:\n        idx = b[i]; tot = tot + c[i];\n        if tot % 2 == 1:\n            st.append(idx);\n        tot = int(tot / 2);\n        idx = idx + 1;\nwhile tot > 0:\n    if tot % 2 == 1:\n        st.append(idx);\n    tot = int(tot / 2);\n    idx = idx + 1;\nlst = len(st);\nprint(res- lst)\n\n\n\n\n\n\n\n", "input()\nnow = 0\nalc = 0\nans = 0\nfor v in map(int, input().split()):\n    if not alc or now == v:\n        if not alc:\n            ans += v\n        now = v\n        alc += 1\n    else:\n        while alc and now != v:\n            ans += not (alc & 1)\n            alc >>= 1\n            now += 1\n        ans += v - now\n        alc += 1\n        now = v\nelse:\n    while alc:\n        ans += not (alc & 1)\n        alc >>= 1\nprint(ans)\n", "input()\nnow = alc = ans = 0\nfor v in map(int, input().split()):\n    while alc and now != v:\n        ans += not (alc & 1)\n        alc >>= 1\n        now += 1\n    ans += v - now\n    alc += 1\n    now = v\nelse:\n    while alc:\n        ans += not (alc & 1)\n        alc >>= 1\nprint(ans)\n", "n=int(input())\na=list(map(int,input().split()))\nc=1\nv=0\np=a[0]\n\nfor i in range(1,n):\n    if a[i]==a[i-1]:\n        c+=1\n    else:\n        while c>0 and p<a[i]:\n            v+=(c%2)\n            c//=2\n            p+=1\n        c+=1\n        p=a[i]\n\nwhile c>1:\n    v+=(c%2)\n    c//=2\n    p+=1\n    \nprint(p-v)\n    \n        \n", "from sys import stdin, stdout\n\nn = int(stdin.readline())\nt = list(map(int, stdin.readline().split()))\n\ny = s = t[0]\nx = i = 1\nwhile True:\n    while i < n and t[i] == y:\n        i += 1\n        x += 1\n\n    s += (x + 1) & 1\n    x //= 2\n    y += 1\n\n    if x: continue\n    if i == n: break\n    \n    s += t[i] - y\n    x, y = 1, t[i]\n    i += 1        \n\nprint(s)", "from sys import stdin, stdout\nn = int(stdin.readline())\ny = s = x = 0\nfor i in map(int, stdin.readline().split()):\n    if i == y: x += 1\n    else:\n        while x and i > y:\n            if not x & 1: s += 1\n            x >>= 1\n            y += 1\n        if i > y:\n            s += i - y\n            x, y = 1, i\n        else: x += 1\nwhile x:\n    if not x & 1: s += 1\n    x >>= 1\nprint(s)", "n=int(input())\na=list(map(int,input().split()))\nst=set()\nfor e in a :\n    while(e in st):\n        st.remove(e)\n        e+=1\n    st.add(e)\nprint(max(st)-len(st)+1)\n", "n=int(input())\nst=set()\nfor e in map(int,input().split()):\n    while(e in st):\n        st.remove(e)\n        e+=1\n    st.add(e)\nprint(max(st)-len(st)+1)", "from sys import stdin\n\nN = int(stdin.readline())\n\nnum = set()\n\nfor b in map(int, stdin.readline().split()):\n    while b in num:\n        num.remove(b)\n        b += 1\n\n    num.add(b)\n\nprint(max(num) - len(num) + 1)\n", "n=int(input())\nst=set()\nfor e in map(int,input().split()):\n    while(e in st):\n        st.remove(e)\n        e+=1\n    st.add(e)\nprint(max(st)-len(st)+1)", "from sys import stdin\n\ndef read(): return list(map(int, stdin.readline().split()))\n\nread()\ns = set()\nfor x in read():\n  while x in s:\n    s.remove(x)\n    x += 1\n  s.add(x)\n\nprint( max(s) - len(s) + 1 )\n", "from sys import stdin, stdout\n\ninputIdx = 0;\ninput = stdin.read().strip().split();\n\ndef nextToken():\n  nonlocal inputIdx, input;\n  token = input[inputIdx];\n  inputIdx += 1;\n  return token;\n\ndef main():\n  nonlocal inputIdx, input;\n  while inputIdx < len(input):\n    n = int( nextToken() );\n    arr = [ int( nextToken() ) for i in range(n) ];\n    diff = 0;\n    cur = -1; cnt = 0;\n    i = 0;\n    ans = max(arr);\n    while i < n or cur != -1:\n      ans = max( ans, cur );\n      if ( i < n and cur != -1 and arr[i] == cur ) or ( cur == -1 ):\n        j = i;\n        while j < n and arr[i] == arr[j]:\n          j += 1;\n        cnt += j-i;\n        cur = arr[i];\n        i = j;\n      if (cnt&1) == 1:\n        diff += 1;\n      cur += 1;\n      cnt //= 2;\n      if cnt == 0:\n        cur = -1;\n    ans -= diff-1;\n    print(( int(ans) ));\n\nmain();\n", "n=int(input())\na=list(map(int,input().split()))\n\ns=set()\n\nmx=0\ncnt=0\n\nfor i in a:\n    k=int(i)\n    while k in s :\n          s.remove(int(k))\n          cnt=cnt-1\n          k=k+1\n    s.add(k)\n    if mx<k: mx=k\n    cnt=cnt+1\n\nprint(mx-cnt+1)\n\n\n\n", "n=int(input())\n\nst=set()\n\nfor e in map(int,input().split()):\n\n    while(e in st):\n\n        st.remove(e)\n\n        e+=1\n\n    st.add(e)\n\nprint(max(st)-len(st)+1)\n\n\n\n# Made By Mostafa_Khaled\n", "n=int(input())\nst=set()\nfor e in map(int,input().split()):\n   # print(st,'beg')\n    while(e in st):\n        st.remove(e)\n        e+=1\n    st.add(e)\n    #print(st)\nprint(max(st)-len(st)+1)\n#print(max(st))\n", "n=int(input())\na=list(map(int,input().split()))\nb=set()\nfor i in a:\n\twhile i in b:\n\t\tb.remove(i)\n\t\ti+=1\n\tb.add(i)\nprint(max(b)-len(b)+1)", "n=int(input())\na=list(map(int,input().split()))\nb=set()\nfor i in a:\n\twhile i in b:\n\t\tb.remove(i)\n\t\ti+=1\n\tb.add(i)\nprint(max(b)-len(b)+1)", "n = int(input())\nseq = [int(x) for x in input().split()]\n\n# print(seq)\n\ndef inseri(s, n):\n\tif n in s:\n\t\ts.remove(n)\n\t\tinseri(s, n+1)\n\telse:\n\t\ts.add(n)\n\n\ns = set()\nfor i in seq:\n\tinseri(s, i)\n\nm = max(s)\nprint(m-len(s)+1)\n# print(s)\n", "# array de indices em ordem crescente\n# quantos 2**b precisa para 2**v-1 (soma de sequencia)\n\nimport math\n\ndef main():\n    n = int(input())\n    a = input().split()\n    a = [int(x) for x in a]\n    \n    p = 0\n    carry = 0\n    ok = 0\n    while p<n:\n        count = carry\n        atual = a[p]\n        while p<n and a[p] == atual:\n            count += 1\n            p += 1 \n        if count%2 == 1:\n            ok += 1\n        carry = count//2 \n        if p<n:       \n            proximo = a[p]\n        else:\n            proximo = atual-1    \n        while carry!= 0 and proximo!= atual+1:\n            if carry%2 == 1:\n                ok += 1\n            carry = carry//2         \n            atual += 1\n    print(atual-ok+1)    \n\nmain()", "n = int(input())\ns = list(map(int, input().split()))\n\ndef ins(_set, n):\n    if n in _set:\n        _set.remove(n)\n        ins(_set, n+1)\n    else:\n        _set.add(n)\n\nss = set()\n\nfor i in s:\n    ins(ss, i)\n\nm = max(ss)\n\nprint(m - len(ss) + 1)\n", "n = int(input())\nseq = [int(x) for x in input().split()]\n\n# print(seq)\n\ndef inseri(s, n):\n\tif n in s:\n\t\ts.remove(n)\n\t\tinseri(s, n+1)\n\telse:\n\t\ts.add(n)\n\n\ns = set()\nfor i in seq:\n\tinseri(s, i)\n\nm = max(s)\nprint(m-len(s)+1)", "m, s, n = 0, set(), int(input())\nfor a in map(int, input().split()):\n    while a in s:\n        s.remove(a)\n        a += 1\n    s.add(a)\n    m = max(m, a)\nprint(m - len(s) + 1)", "n=int(input())\na=list(map(int,input().split()))\nb=set()\nfor i in a:\n while i in b:\n  b.remove(i)\n  i+=1\n b.add(i)\nprint(max(b)-len(b)+1)", "n = int(input())\na = list(map(int, input().split()))\ns = set()\nfor i in a:\n    j = i\n    while j in s:\n        s.remove(j)\n        j += 1\n    s.add(j)\nprint(max(s)-len(s)+1)\n"]