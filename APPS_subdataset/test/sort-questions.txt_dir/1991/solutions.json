["from math import *\n\ndef r1(t):\n    return t(input())\n\ndef r2(t):\n    return [t(i) for i in input().split()]\n\nfor _ in range(r1(int)):\n    n = r1(int)\n    a = r2(int)\n    g = True\n    for i in range(n):\n        if a[i] != i + 1:\n            g = False\n            break\n    if g:\n        print(0)\n        continue\n\n    g = True\n    c = 0\n    p = False\n    for i in range(n):\n        if a[i] != i + 1:\n            if p == False:\n                c += 1\n                p = True\n        else:\n            p = False\n    print(min(c, 2))\n", "from collections import defaultdict as dd\nfrom collections import deque\nimport bisect\nimport heapq\n\ndef ri():\n    return int(input())\n\ndef rl():\n    return list(map(int, input().split()))\n\n\ndef solve():\n    n = ri()\n    A = rl()\n\n    first_wrong = -1\n    first_break = -1\n    skip = False\n\n    for i, a in enumerate(A):\n        if i + 1 == a:\n            if first_wrong != -1 and first_break == -1:\n                first_break = i\n        else:\n            if first_wrong == -1:\n                first_wrong = i\n            elif first_break != -1:\n                skip = True\n\n    if first_wrong == -1:\n        print(0)\n    elif not skip:\n        print(1)\n    else:\n        print(2)\n\n\n\n\n\n\nmode = 'T'\n\nif mode == 'T':\n    t = ri()\n    for i in range(t):\n        solve()\nelse:\n    solve()\n", "t=int(input())\nfor _ in range(t):\n  n=int(input())\n  a=list(map(int,input().split()))\n  wrongcount=0\n  for i in range(n):\n    if i>0 and a[i-1]==i and a[i]!=i+1 and wrongcount==1:\n      wrongcount=2\n    if a[i]!=i+1 and wrongcount==0:\n      wrongcount=1\n  print(wrongcount)", "\nT = int(input())\n\n\nfor i in range(T):\n  n = int(input())\n  #n,m = map(int, input().split())\n  #a,b = map(int, input().split())\n  a = list(map(int,input().split()))\n  #a = list(input())\n  if a == sorted(a):\n    print(0)\n    continue\n  \n  strt = True\n  count = 0\n  for i in range(n):\n    if strt and i+1 != a[i]:\n      strt = False\n    if not strt and i+1 == a[i]:\n      count+=1\n  \n  end = True\n  for i in range(n-1,-1,-1):\n    if end and i+1 == a[i]:\n      count-=1\n    else:\n      break\n  \n  if count==0:\n    print(1)\n  else:\n    print(2)\n", "def solve():\n    n = int(input())\n    a = list(map(int, input().split()))\n    i = 0\n    ans = 0\n    while i < n:\n        if a[i] == i + 1:\n            i += 1\n            continue\n        j = i\n        while j < n and a[j] != j + 1:\n            j += 1\n        ans += 1\n        i = j\n    print(min(ans, 2))\n\nt = int(input())\nfor _ in range(t):\n    solve()", "tests = int(input())\nfor test in range(tests):\n    n = int(input())\n    a = [int(i) for i in input().split()]\n    l, r = -1, -1\n    ans = 1\n    for i in range(n):\n        if r == -1:\n            if l == -1:\n                if a[i] != i + 1:\n                    if l == -1:\n                        l = i\n            else:\n                if a[i] == i + 1:\n                    if r == -1:\n                        r = i - 1\n        else:\n            if a[i] != i + 1:\n                ans = 2\n                break\n    if l == -1:\n        print(0)\n    else:\n        print(ans)\n", "for _ in range(int(input())):\n    n = int(input())\n    arr = list([int(x)-1 for x in input().split()])\n    l = -1\n    r = -1\n    for i in range(n):\n        if arr[i] != i:\n            if l == -1:\n                l = i\n            r = i+1\n    if l == -1:\n        print(0)\n        continue\n    ans = 1\n    for i in range(l, r):\n        if arr[i] == i:\n            ans = 2\n    print(ans)\n", "import sys\nimport random\nfrom fractions import Fraction\nfrom math import *\n \ndef input():\n    return sys.stdin.readline().strip()\n \ndef iinput():\n    return int(input())\n\ndef finput():\n    return float(input())\n\ndef tinput():\n    return input().split()\n\ndef linput():\n    return list(input())\n \ndef rinput():\n    return list(map(int, tinput()))\n\ndef fiinput():\n    return list(map(float, tinput()))\n \ndef rlinput():\n    return list(map(int, input().split()))\ndef trinput():\n    return tuple(rinput())\n\ndef srlinput():\n    return sorted(list(map(int, input().split())))\n\ndef NOYES(fl):\n    if fl:\n        print(\"NO\")\n    else:\n        print(\"YES\")\ndef YESNO(fl):\n    if fl:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n    \ndef main():  \n    n = iinput()\n    #k = iinput() \n    #m = iinput() \n    #n = int(sys.stdin.readline().strip()) \n    #n, k = rinput()\n    #n, m = rinput()\n    #m, k = rinput()\n    #n, k, m = rinput()\n    #n, m, k = rinput()\n    #k, n, m = rinput()\n    #k, m, n = rinput() \n    #m, k, n = rinput()\n    #m, n, k = rinput()\n    #q = srlinput()\n    #q = linput()\n    q = rlinput()\n    w = q.copy()\n    if q == sorted(w):\n        print(0)\n    else:\n        res = 1\n        for i in range(n):\n            if i + 1 == q[i]:\n                res = 2\n        if res == 1:\n            print(1)\n        else:\n            l, r = 0, n - 1\n            for i in range(n):\n                if i + 1 != q[i]:\n                    l = i\n                    break\n            for i in range(n - 1, l, -1):\n                if i + 1 != q[i]:\n                    r = i\n                    break\n            q = q[l:r + 1]\n            n = len(q)\n            m = min(q)\n            for i in range(n):\n                if m + i == q[i]:\n                    print(2)\n                    return 0\n            print(1)\n            \n    \n        \n    \n\nfor i in range(iinput()):\n    main()\n", "tt = int(input())\n\nfor loop in range(tt):\n\n    n = int(input())\n    a = list(map(int,input().split()))\n\n    cnt = 0\n    for i in range(n):\n\n        if a[i] != i+1 and cnt % 2 == 0:\n            cnt += 1\n        elif a[i] == i+1 and cnt % 2 == 1:\n            cnt += 1\n\n    if cnt == 0:\n        print(0)\n    elif cnt <= 2:\n        print(1)\n    else:\n        print(2)\n", "import math\n\nt = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    prev = True\n    num = 0\n    for j in range(n):\n        if prev and a[j] != j+1:\n            num += 1\n            prev = False\n        elif a[j] == j+1:\n            prev = True\n    if num > 2:\n        print(2)\n    else:\n        print(num)\n"]