["p=1048583\nq=1048589\nmodd=p*q*p*q\nn,k=tuple(map(int,input().split()))\na=[0]\nwenhao=0\ngai=0\nfor i in range(n+1):\n    m=input()\n    if m[0]=='?':\n        a.append('?')\n        wenhao+=1\n    else:\n        a.append(int(m))\n        gai+=1\n\nif k==0:\n    if (a[1]=='?' and gai&1==1) or a[1]==0:\n        print('Yes')\n    else:\n        print('No')\nelse:\n    if wenhao!=0:\n        if n&1==1:\n            print('Yes')\n        else:\n            print('No')\n    else:\n        m=a[n+1]\n        nn=a[n]\n        for i in range(n,0,-1):\n            m,nn=(nn+k*m)%modd,a[i-1]\n        if m==0:\n            print('Yes')\n        else:\n            print('No')\n", "n, k = map(int, input().split())\na = []\n\ncheck = 0\nfor _ in range(n + 1):\n\tnew_a = input()\n\tif new_a == '?':\n\t\tcheck += 1\n\telse:\n\t\tnew_a = int(new_a)\n\n\ta.append(new_a)\n\nif check > 0:\n\tif k != 0:\n\t\tif (n + 1) % 2 == 0:\n\t\t\tprint('Yes')\n\t\telse:\n\t\t\tprint('No')\n\telse:\n\t\tif ((n + 1 - check) % 2 == 1 and a[0] == '?') or a[0] == 0:\n\t\t\tprint('Yes')\n\t\telse:\n\t\t\tprint('No') \nelse:\n\tmodule1 = 2**58 - 203\n\tmodule2 = 2**64 - 59\n\tresult1 = result2 = result3 = 0\n\tfor c in a[::-1]:\n\t\tresult1 = (result1 * k + c) % module1\n\t\tresult2 = (result2 * k + c) % module2\n\t\tresult3 = (result3 * k + c) % (module1 + module2)\n\n\tif result1 == 0 and result2 == 0 and result3 == 0:\n\t\tprint('Yes')\n\telse:\n\t\tprint('No')", "n,k = [int(x) for x in input().split()]\nL=[]\ndone = 0\nfor i in range(n+1):\n    c=input()\n    if c is '?':\n        L.append('?')\n    else:\n        L.append(int(c))\n        done += 1\n\nleft = n + 1 - done\n\nif done%2 == 0:\n    chance = 0\nelse:\n    chance = 1\n\nif k==0:\n    if L[0] is '?':\n        print('Yes' if chance == 1 else 'No')\n    else:\n        print('Yes' if L[0] == 0 else 'No')\nelif left == 0:\n    for i in range(n, 0,-1):\n        L[i-1] += L[i]*k\n        if not (-10000000000<L[i-1]<10000000000):\n            L[0]=-1\n            break\n    print('Yes' if L[0] == 0 else 'No')\nelif left%2 == 0:\n    if chance == 0:\n        print('Yes')\n    else:\n        print('No')\nelse:\n    if chance == 1:\n        print('Yes')\n    else:\n        print('No')\n        \n    \n", "\nimport sys\n#sys.stdin=open(\"data.txt\")\ninput=sys.stdin.readline\n\nn,k=map(int,input().split())\n\ncoeff=[str(input().strip()) for _ in range(n+1)]\n\nif coeff.count('?')==0:\n    # check game state\n    total=0\n    for s in range(n+1)[::-1]:\n        total=total*k+int(coeff[s])\n        if abs(total)>1000000000000: break\n    if total==0: print(\"Yes\")\n    else: print(\"No\")\nelif k==0:\n    if coeff[0]=='?':\n        # check if human's turn\n        if (n+1-coeff.count('?'))%2==1: print(\"Yes\")\n        else: print(\"No\")\n    else:\n        if coeff[0]=='0': print(\"Yes\")\n        else: print(\"No\")\nelse:\n    # k is not 0\n    # check if human moves last\n    if (n+1)%2==0: print(\"Yes\")\n    else: print(\"No\")", "def solve():\n\tmodx = 179426080107\n\tn,m = list(map(int,input().split()))\n\tcnt = 0\n\ta = []\n\tfor i in range(n + 1):\n\t\ts = input()\n\t\tif(s == '?'): cnt += 1\n\t\ta.append(s)\n\n\t#print(cnt)\n\n\tif (m == 0):\n\t\tif (a[0] == '0') : return 1\n\t\tif (a[0] == '?' and (n + 1 - cnt)% 2 == 1):\n\t\t\treturn 1\n\t\treturn 0\n\n\tif(cnt):\n\t\tif (n % 2 == 1):return 1\n\t\treturn 0\n\n\tfor i in range(n+1):\n\t\ta[i] = int(a[i])\n\n\tnow = a[n]\n\n\ttmp = 1\n\tans = 0\n\tfor i in range(n + 1):\n\t\tans = ans + (tmp * a[i]) % modx\n\t\tans %= modx\n\t\ttmp = (tmp * m) % modx\n\n\tif (ans == 0) : return 1\n\telse : return 0\n\nif (solve() == 1) : print(\"Yes\")\nelse : print(\"No\")\n\n\n\n", "n,k = map(int,input().split())\ns = 0\na = 0\nl = []\nf = False\nfor i in range(n+1):\n    v = input()\n    if v == '?':\n        a += 1\n        if k == 0 and i == 0:\n            f = True\n    elif a==0:\n        l.append(int(v))\nl.reverse()\nif a == 0 and k != 0:\n    for i in l:\n        s = k*s + i\n        if s > 10**18 or s < -10**18:\n            break\nif k == 0 and ((not f and l[-1] == 0) or (f and (n-a)%2==0)):\n    print(\"Yes\")\nelif k == 0:\n    print(\"No\")\nelif (a == 0 and s == 0) or (n%2 == 1 and a > 0):\n    print(\"Yes\")\nelse:\n    print(\"No\")", "n,k = map(int,input().split())\ns = 0\na = 0\nl = []\nf = False\nfor i in range(n+1):\n    v = input()\n    if v == '?':\n        a += 1\n        if k == 0 and i == 0:\n            f = True\n    elif a==0:\n        l.append(int(v))\nl.reverse()\nif a == 0 and k != 0:\n    for i in l:\n        s = k*s + i\n        if s > 10**9 or s < -10**9:\n            break\nif k == 0 and ((not f and l[-1] == 0) or (f and (n-a)%2==0)):\n    print(\"Yes\")\nelif k == 0:\n    print(\"No\")\nelif (a == 0 and s == 0) or (n%2 == 1 and a > 0):\n    print(\"Yes\")\nelse:\n    print(\"No\")", "n, k = map(int,input().split())\na = []\nfor i in range(n+1):\n    a.extend(input().split())\nif k == 0:\n    if a[0] == '0': print('Yes')\n    \n    elif a[0] == '?' and (n - a.count('?'))% 2 == 0: print('Yes')\n    else: print('No')\nelif '?' in a:\n    if n % 2 == 0: print('No')\n    else: print('Yes')\nelse:\n    a = list(map(int, a))[::-1]\n    res = a[0]\n    for i in range(1, n+1):\n        res = a[i] + res * k\n        if res > 10**11 or res < -10**11: \n            print('No')\n            return\n    if res == 0: print('Yes')\n    else: print('No')", "n, k = map(int, input().split())\na = [input() for i in range(n + 1)]\nz = 0\nfor i in a:\n    if i == '?':\n        z += 1\nif k == 0:\n    if a[0] == '0': \n        print('Yes')\n    elif a[0] == '?' and (n - z + 1) % 2 == 1:\n        print('Yes')\n    else:\n        print('No')\nelse:\n    if z == 0:\n        d = 0\n        for i in a[::-1]:\n            d = (d * k + int(i)) % 7272763523821\n            #print(d)\n        if d == 0:\n            print('Yes')\n        else:\n            print('No')\n    else:\n        if n % 2 == 0:\n            print('No')\n        else:\n            print('Yes')", "n, k = list(map(int, input().split()))\na = [input() for _ in range(n + 1)]\nc = len([_ for _ in a if _ == '?'])\nprint('Yes' if k == 0 and (a[0] == '0' or a[0] == '?' and (n + 1 - c) % 2 == 1) or k != 0 and (c > 0 and n % 2 == 1 or c == 0 and sum([_ * pow(k, i, 10**15 + 91) for i, _ in enumerate(map(int, a))]) % (10**15 + 91) == 0) else 'No')\n", "n,k = map(int,input().split(\" \"))\nmas=[-100000000000000]*(n+1)\nd = 0\nlimit = 10**10\nfor i in range(n+1):\n    s= input()\n    if s==\"?\":\n        d+=1\n    else:\n        mas[i]=int(s)\nif k == 0 and mas[0] == 0:\n    print(\"Yes\")\nelif k == 0 and mas[0] != 0 :\n    if mas[0]==-100000000000000:\n        if (n-d)%2!=0:\n            print(\"No\")\n        else:\n            print(\"Yes\")\n    else:\n        print(\"No\")\nelse:\n    if d!=0:\n        if n%2==0:\n            print(\"No\")\n        else:\n            print(\"Yes\")\n    else:\n\n        b=mas[n]\n        for i in range(n-1,0,-1):\n            b=(mas[i]+b*k)\n            if abs(b)>limit:\n                print(\"No\")\n                break\n        else:\n            print(\"Yes\") if (b*k==-mas[0]) else print(\"No\")\n", "def main():\n    n, k = list(map(int, input().split()))\n    aa = []\n    for i in range(n + 1):\n        s = input()\n        aa.append(None if s == '?' else int(s))\n    qm_cnt = aa.count(None)\n    if k:\n        if qm_cnt:\n            print('Yes' if n & 1 else 'No')\n        else:\n            x = 0\n            for a in reversed(aa):\n                x = (x * k + a) % 999999937\n            print('No' if x else 'Yes')\n    else:\n        print('Yes' if aa[0] is None and not (n - qm_cnt) & 1 or aa[0] == 0 else 'No')\n\n\ndef __starting_point():\n    main()\n\n__starting_point()", "import sys\nimport math\n\ndef calculate(A, k, x):\n    res = 0\n    if abs(k) >= 2:\n        for a in reversed(A):\n            res = k*res + a\n            if abs(res) > x:\n                return float('inf')\n        return res\n    else:\n        for a in reversed(A):\n            res = k*res + a\n        return res\n\ndef solve():\n    n, k = [int(x) for x in input().split()]\n    A = ['?' if line == '?\\n' else int(line) for line in sys.stdin]\n\n    if k == 0:\n        return A[0] == 0 or A[0] == '?' and (n + 1 - A.count('?')) % 2 == 1\n    else:\n        if '?' in A:\n            return n % 2 == 1\n        else:\n            return calculate(A, k, 10000) == 0\n\nprint('Yes' if solve() else 'No')\n"]