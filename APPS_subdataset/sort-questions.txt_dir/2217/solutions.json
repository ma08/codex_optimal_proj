["import sys\n\nn, m = list(map(int, sys.stdin.readline().split()))\nd = list(map(int, sys.stdin.readline().split()))\ngph = [[] for _ in range(n)]\n\nfor _ in range(m):\n    u, v = list(map(int, sys.stdin.readline().split()))\n    u -= 1\n    v -= 1\n    gph[u].append((v, _))\n    gph[v].append((u, _))\n    \nt = -1\nif d.count(1) % 2 == 1:\n    if -1 not in d:\n        print(-1)\n        return\n    t = d.index(-1)\n\nans = [False] * m\nvis = [False] * n\ned = [(-1, -1)] * n\nrets = [(d[u] == 1) or (u == t) for u in range(n)]\n\nstk = [[0, iter(gph[0])]]\nwhile len(stk) > 0:\n    u = stk[-1][0]\n    vis[u] = True\n    try:\n        while True:\n            v, i = next(stk[-1][1])\n            if not vis[v]:\n                ed[v] = (u, i)\n                stk.append([v, iter(gph[v])])\n                break\n    except StopIteration:\n        p, e = ed[u]\n        if p >= 0 and rets[u]:\n            rets[p] = not rets[p]\n            ans[e] = True\n        stk.pop()\n        pass\n    \nprint(ans.count(True))\nprint(\"\\n\".join([str(i+1) for i in range(m) if ans[i]]))\n#1231\n"]