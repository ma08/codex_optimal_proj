["\n\ndef isPalindrome(subSequence):\n    for i in range(len(subSequence)):\n        if subSequence[i] != subSequence[len(subSequence) - i - 1]:\n            return False\n    return True\n\ndef findPalindrome(a):\n    for i in range(len(a) - 2):\n        if isPalindrome(a[i:i+3]):\n            return True\n    return False\n\ndef main():\n    t = int(input())\n    for i in range(t):\n        n = int(input())\n        a = list(map(int, input().split()))\n        if findPalindrome(a):\n            print(\"YES\")\n        else:\n            print(\"NO\")\n\nif __name__ == \"__main__\":\n    main()\n", "\n# TODO: WA, WA, WA\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = []\n    c = []\n    d = []\n    e = []\n    for i in range(n):\n        if i == 0:\n            b.append(a[i])\n        elif i == 1:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n        else:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n            if a[i] == a[i-2]:\n                d.append([a[i-2], a[i-1], a[i]])\n            if a[i] == a[i-3]:\n                e.append([a[i-3], a[i-2], a[i-1], a[i]])\n    if len(c) > 0 or len(d) > 0 or len(e) > 0:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n", "\n#\n# TODO: WA, WA, WA\n\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = []\n    c = []\n    d = []\n    e = []\n    for i in range(n):\n        if i == 0:\n            b.append(a[i])\n        elif i == 1:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n        else:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n            if a[i] == a[i-2]:\n                d.append([a[i-2], a[i-1], a[i]])\n            if a[i] == a[i-3]:\n                e.append([a[i-3], a[i-2], a[i-1], a[i]])\n    if len(c) > 0 or len(d) > 0 or len(e) > 0:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n", "\n\ndef is_palindrome(subsequence):\n    for i in range(len(subsequence) // 2):\n        if subsequence[i] != subsequence[len(subsequence) - i - 1]: \n            return False\n    return True\n\ndef find_palindrome(a):\n    for i in range(len(a) - 2): \n        if is_palindrome(a[i:i+3]):\n            return True\n    return False\n\ndef main():\n    t = int(input())\n    for i in range(t):\n        n = int(input())\n        a = list(map(int, input().split()))\n        if find_palindrome(a):\n            print(\"YES\")\n        else:\n            print(\"NO\")\n\nif __name__ == \"__main__\":\n    main()\n", "\n\n\ndef is_palindrome(subsequence):\n    for i in range(len(subsequence)):\n        if subsequence[i] != subsequence[len(subsequence) - i - 1]:\n            return False\n    return True\n\n\ndef find_palindrome(a):\n    for i in range(len(a) - 2):\n        if is_palindrome(a[i:i + 3]):\n            return True\n\n    return False\n\ndef main():\n    t = int(input())\n    for i in range(t):\n        n = int(input())\n        a = list(map(int, input().split()))\n        if find_palindrome(a):\n            print(\"YES\")\n        else:\n            print(\"NO\")\n\n\nif __name__ == \"__main__\":\n    main()\n", "\n# TODO: WA (not solved)\n# TODO: WA (not solved)\n\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = []\n    c = []\n    d = []\n    e = []\n    for i in range(n):\n        if i == 0:\n            b.append(a[i])\n        elif i == 1:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n        else:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n            if a[i] == a[i-2]:\n                d.append([a[i-2], a[i-1], a[i]])\n            if a[i] == a[i-3]:\n                e.append([a[i-3], a[i-2], a[i-1], a[i]])\n    if len(c) > 0 or len(d) > 0 or len(e) > 0:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n", "\n\n# TODO: WA (not solved) \n\nt = int(input())\n\nfor _ in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = []\n    c = []\n    d = []\n    e = []\n    for i in range(n):\n        if i == 0:\n            b.append(a[i])\n        elif i == 1:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n        else:\n            b.append(a[i])\n            if a[i] == a[i-1]:\n                c.append([a[i-1], a[i]])\n            if a[i] == a[i-2]:\n                d.append([a[i-2], a[i-1], a[i]])\n            if a[i] == a[i-3]:\n                e.append([a[i-3], a[i-2], a[i-1], a[i]])\n    if len(c) > 0 or len(d) > 0 or len(e) > 0:\n        print(\"YES\")\n    else:\n        print(\"NO\")\n"]