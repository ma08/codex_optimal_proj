["", "\ndef read_input():\n    n, m = map(int, input().split())\n    a = list(map(int, input().split()))\n    segments = []\n    for _ in range(m):\n        l, r = map(int, input().split())\n        segments.append((l, r))\n    return a, segments\n\ndef solution(a, segments):\n    max_so_far = max(a)\n    min_so_far = min(a)\n    d = max_so_far - min_so_far\n    q = 0\n    chosen_segments = []\n    for l, r in segments:\n        min_in_segment = min(a[l-1:r])\n        max_in_segment = max(a[l-1:r])\n        if max_in_segment - min_in_segment > d:\n            q = 1\n            chosen_segments = [l]\n            d = max_in_segment - min_in_segment\n        elif max_in_segment - min_in_segment == d:\n            q += 1\n            chosen_segments.append(l)\n    print(d)\n    print(q)\n    print(*chosen_segments)\n\nif __name__ == \"__main__\":\n    a, segments = read_input()\n    solution(a, segments)"]