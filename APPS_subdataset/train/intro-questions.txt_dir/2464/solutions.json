["class Solution:\n     def countPrimes(self, x):\n         x = max(0, x - 1)\n         if type(x) is not int: x = int(x)\n         if x < 6: return [0, 0, 1, 2, 2, 3][x]\n     \n         def Phi(m, b):\n             if not b:\n                 return m\n             if not m:\n                 return 0\n             if m >= 800:\n                 return Phi(m, b - 1) - Phi(m // primes[b - 1], b - 1)\n             t = b * 800 + m\n             if not Phi_memo[t]:\n                 Phi_memo[t] = Phi(m, b - 1) - Phi(m // primes[b - 1], b - 1)\n             return Phi_memo[t]\n         \n         \n         root2 = int(x**(1. / 2))\n         root3 = int(x**(1. / 3))\n         top = x // root3 + 1\n         sieve = [0, 0] + [1] * (top - 2)\n         pi = [0, 0]\n         primes = []\n         t = 0\n         for i in range(2, top):\n             if sieve[i] == 1:\n                 t += 1\n                 primes.append(i)\n                 sieve[i::i] = [0] * len(sieve[i::i])\n             pi.append(t)\n         a, b = pi[root3 + 1], pi[root2 + 1]\n         Phi_memo = [0] * ((a + 1) * 800)\n         return Phi(x, a) + a - 1 - sum(pi[x // p] - pi[p] + 1 for p in primes[a:b])"]