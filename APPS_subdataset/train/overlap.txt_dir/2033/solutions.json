["h = int(input())\na = list(map(int, input().split()))\n\nw, q = [], []\np = r = 0\n\nfor i in a:\n    for j in range(i):\n        w.append(r)\n        q.append(r - (j and p > 1))\n\n    p = i\n    r += i\n\nif w == q:\n    print('perfect')\nelse:\n    print('ambiguous')\n    print(*w)\n    print(*q)\n", "n=int(input())\n\na=list(map(int,input().split()))\n\np=[]\n\nq=[]\n\nr=0\n\nls=-1\n\nfor i in a:\n\n    for j in range(i):\n\n        p.append(r)\n\n        if j:q.append(r-(ls>1))\n\n        else:q.append(r)\n\n    r+=i\n\n    ls=i\n\nif p==q:print('perfect')\n\nelse:\n\n    print('ambiguous')\n\n    print(*p)\n\n    print(*q)\n\n\n\n# Made By Mostafa_Khaled\n", "n = int(input())\narr = list(map(int, input().split()))\nb, c = [0], [0]\ncurr = 1\nfor i in range(1, n+1):\n    b.extend([curr]*arr[i])\n    curr += arr[i]\ncurr = 1\nfor i in range(1, n+1):\n    if arr[i] > 1 and arr[i-1] > 1:\n        c.append(curr-1)\n        c.extend([curr]*(arr[i]-1))\n    else:\n        c.extend([curr]*arr[i])\n    curr += arr[i]\nif b == c:\n    print('perfect')\nelse:\n    print('ambiguous')\n    print(*b)\n    print(*c)\n"]